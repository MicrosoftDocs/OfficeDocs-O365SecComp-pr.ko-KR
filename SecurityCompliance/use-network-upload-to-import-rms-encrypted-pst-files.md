---
title: 네트워크 업로드를 사용하여 RMS 암호화 PST 파일을 Office 365로 가져오기
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 5/29/2018
audience: Admin
ms.topic: article
ms.service: O365-seccomp
ms.collection: M365-security-compliance
localization_priority: Normal
search.appverid:
- MOE150
- MED150
- MET150
ms.assetid: 84a595b8-cd77-4f66-ac52-57a33ddd4773
description: 네트워크 업로드를 사용 하 여 RMS 암호화 PST 파일을 Office 365의 사용자 사서함으로 가져오는 방법에 대해 알아봅니다.
ms.openlocfilehash: e14c5a7260bc8b2092075dd2ab711f4da2d3b9c2
ms.sourcegitcommit: 9d67cb52544321a430343d39eb336112c1a11d35
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/17/2019
ms.locfileid: "34158000"
---
# <a name="use-network-upload-to-import-rms-encrypted-pst-files-to-office-365"></a><span data-ttu-id="e919d-103">네트워크 업로드를 사용하여 RMS 암호화 PST 파일을 Office 365로 가져오기</span><span class="sxs-lookup"><span data-stu-id="e919d-103">Use network upload to import RMS-encrypted PST files to Office 365</span></span>

<span data-ttu-id="e919d-104">**이 문서는 관리자를 위한 것입니다. PST 파일을 자체 사서함으로 가져오시겠습니까? [Outlook .pst 파일에서 전자 메일, 연락처 및 일정 가져오기를](https://go.microsoft.com/fwlink/p/?LinkID=785075) 참조 하세요.**</span><span class="sxs-lookup"><span data-stu-id="e919d-104">**This article is for administrators. Are you trying to import PST files to your own mailbox? See [Import email, contacts, and calendar from an Outlook .pst file](https://go.microsoft.com/fwlink/p/?LinkID=785075)**</span></span>
   
<span data-ttu-id="e919d-105">네트워크 업로드 옵션 및 Office 365 가져오기 서비스를 사용 하 여 PST 파일을 사용자 사서함으로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-105">Use the network upload option and the Office 365 Import service to import PST files to user mailboxes.</span></span> <span data-ttu-id="e919d-106">네트워크 업로드는 Microsoft 클라우드의 임시 저장소 영역에 PST 파일을 업로드 하는 것을 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-106">Network upload means that you upload the PST files a temporary storage area in the Microsoft cloud.</span></span> <span data-ttu-id="e919d-107">그런 다음 Office 365 가져오기 서비스가 저장소 영역의 PST 파일을 대상 사용자 사서함으로 복사 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-107">Then the Office 365 Import service copies the PST files from the storage area to the target user mailboxes.</span></span> <span data-ttu-id="e919d-108">가져오기 서비스의 새로운 기능을 사용 하면 PST 파일이 업로드 되 고 Microsoft 클라우드에서 저장 되기 전에 암호화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-108">A new feature of the Import service lets you encrypt your PST files before they are uploaded and stored on the Microsoft cloud.</span></span> <span data-ttu-id="e919d-109">이러한 파일은 사용자 사서함으로 가져올 때 암호화 해제됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-109">These files will be un-encrypted when they're imported to user mailboxes.</span></span> 
  
<span data-ttu-id="e919d-110">PST 파일을 암호화 하 고 Office 365 사서함으로 가져오는 데 필요한 단계는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-110">Here are the steps required to encrypt and import PST files to Office 365 mailboxes:</span></span>
  
[<span data-ttu-id="e919d-111">1 단계: PST 가져오기를 위한 Azure 권한 관리 설정</span><span class="sxs-lookup"><span data-stu-id="e919d-111">Step 1: Set up Azure Rights Management for PST Import</span></span>](#step-1-set-up-azure-rights-management-for-pst-import)

[<span data-ttu-id="e919d-112">2단계: PST 가져오기를 위한 암호화 키 생성</span><span class="sxs-lookup"><span data-stu-id="e919d-112">Step 2: Generate an encryption key for PST Import</span></span>](#step-2-generate-an-encryption-key-for-pst-import)

[<span data-ttu-id="e919d-113">3 단계: RMS 테 넌 트 ID 및 라이선스 URL 획득</span><span class="sxs-lookup"><span data-stu-id="e919d-113">Step 3: Obtain RMS tenant ID and licensing URL</span></span>](#step-3-obtain-rms-tenant-id-and-licensing-url)

[<span data-ttu-id="e919d-114">4 단계: PST 가져오기 도구 다운로드 및 SAS URL 복사</span><span class="sxs-lookup"><span data-stu-id="e919d-114">Step 4: Download the PST Import tools and copy the SAS URL</span></span>](#step-4-download-the-pst-import-tools-and-copy-the-sas-url)

[<span data-ttu-id="e919d-115">5 단계: PST 파일 암호화 및 Office 365 업로드</span><span class="sxs-lookup"><span data-stu-id="e919d-115">Step 5: Encrypt and upload your PST files to Office 365</span></span>](#step-5-encrypt-and-upload-your-pst-files-to-office-365)

[<span data-ttu-id="e919d-116">반드시 6 단계: Office 365에 업로드 된 PST 파일 목록 보기</span><span class="sxs-lookup"><span data-stu-id="e919d-116">(Optional) Step 6: View a list of the PST files uploaded to Office 365</span></span>](#optional-step-6-view-a-list-of-the-pst-files-uploaded-to-office-365)

[<span data-ttu-id="e919d-117">7 단계: PST 가져오기 매핑 파일 만들기</span><span class="sxs-lookup"><span data-stu-id="e919d-117">Step 7: Create the PST Import mapping file</span></span>](#step-7-create-the-pst-import-mapping-file)

[<span data-ttu-id="e919d-118">8단계: Office 365에서 PST 가져오기 작업 만들기</span><span class="sxs-lookup"><span data-stu-id="e919d-118">Step 8: Create a PST Import job in Office 365</span></span>](#step-8-create-a-pst-import-job-in-office-365)
  
> [!IMPORTANT]
> <span data-ttu-id="e919d-119">PST 파일을 암호화 하 고 Office 365 사서함으로 가져오기 위해 1 ~ 4 단계를 한 번만 수행 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-119">You have to perform Step 1 through Step 4 only once to set up and configure your organization to encrypt and import PST files to Office 365 mailboxes.</span></span> <span data-ttu-id="e919d-120">이러한 단계를 수행한 후에는 PST 파일의 일괄 처리를 암호화, 업로드 및 가져올 때마다 5 단계부터 8 단계를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-120">After you perform these steps, follow Step 5 through Step 8 each time you want to encrypt, upload, and import a batch of PST files.</span></span> 
  
<span data-ttu-id="e919d-121">Office 365로 데이터를 가져오는 방법에 대 한 자세한 내용은 [Overview to 조직 PST 파일을 office 365로 가져오기 개요](importing-pst-files-to-office-365.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-121">For more information about importing data to Office 365, see [Overview of importing your organization PST files to Office 365](importing-pst-files-to-office-365.md).</span></span>
  
## <a name="before-you-begin"></a><span data-ttu-id="e919d-122">시작하기 전에</span><span class="sxs-lookup"><span data-stu-id="e919d-122">Before you begin</span></span>

- <span data-ttu-id="e919d-123">PST 파일을 Office 365 사서함으로 가져오려면 Exchange Online의 사서함 가져오기 내보내기 역할을 할당 받아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-123">You have to be assigned the Mailbox Import Export role in Exchange Online to import PST files to Office 365 mailboxes.</span></span> <span data-ttu-id="e919d-124">기본적으로이 역할은 Exchange Online의 어떠한 역할 그룹에도 할당 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-124">By default, this role isn't assigned to any role group in Exchange Online.</span></span> <span data-ttu-id="e919d-125">You can add the Mailbox Import Export role to the Organization Management role group.</span><span class="sxs-lookup"><span data-stu-id="e919d-125">You can add the Mailbox Import Export role to the Organization Management role group.</span></span> <span data-ttu-id="e919d-126">Or you can create a new role group, assign the Mailbox Import Export role, and then add yourself as a member.</span><span class="sxs-lookup"><span data-stu-id="e919d-126">Or you can create a new role group, assign the Mailbox Import Export role, and then add yourself as a member.</span></span> <span data-ttu-id="e919d-127">자세한 내용은 [Manage role groups](https://go.microsoft.com/fwlink/p/?LinkId=730688)의 "역할 그룹에 역할 추가" 또는 "역할 그룹 만들기" 섹션을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-127">For more information, see the "Add a role to a role group" or the "Create a role group" sections in [Manage role groups](https://go.microsoft.com/fwlink/p/?LinkId=730688).</span></span>
    
    <span data-ttu-id="e919d-128">또한 보안 & 준수 센터에서 가져오기 작업을 만들려면 다음 중 하나가 충족 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-128">Additionally, to create import jobs in the Security & Compliance Center, one of the following must be true:</span></span>
    
  - <span data-ttu-id="e919d-129">Exchange Online에서 Mail Recipients 역할을 할당 받아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-129">You have to be assigned the Mail Recipients role in Exchange Online.</span></span> <span data-ttu-id="e919d-130">By default, this role is assigned to the Organization Management and Recipient Management roles groups.</span><span class="sxs-lookup"><span data-stu-id="e919d-130">By default, this role is assigned to the Organization Management and Recipient Management roles groups.</span></span>
    
    <span data-ttu-id="e919d-131">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-131">Or</span></span>
    
  - <span data-ttu-id="e919d-132">Office 365 조 직의 전역 관리자 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-132">You have to be a global administrator in your Office 365 organization.</span></span>
    
  > [!TIP]
  > <span data-ttu-id="e919d-133">Exchange Online에서 PST 파일을 Office 365로 가져오는 데 특별히 만들어진 새 역할 그룹을 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-133">Consider creating a new role group in Exchange Online that's specifically intended for importing PST files to Office 365.</span></span> <span data-ttu-id="e919d-134">PST 파일을 가져오는 데 필요한 최소 수준의 권한으로는 사서함 가져오기 내보내기 및 메일 받는 사람 역할을 새 역할 그룹에 할당 하 고 구성원을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-134">For the minimum level of privileges required to import PST files, assign the Mailbox Import Export and Mail Recipients roles to the new role group, and then add members.</span></span> 
  
- <span data-ttu-id="e919d-135">조직의 파일 서버나 공유 폴더에서 Office 365로 가져오려는 PST 파일을 저장 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-135">You need to store the PST files that you want to import to Office 365 on a file server or shared folder in your organization.</span></span> <span data-ttu-id="e919d-136">5 단계에서는이 파일 서버 또는 공유 폴더에 저장 된 PST 파일을 Office 365에 암호화 하 고 업로드 하는 Office 365 ImportTool을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-136">In Step 5, you'll run the Office 365 ImportTool, which will encrypt and upload the PST files that are stored on this file server or shared folder to Office 365.</span></span>
    
- <span data-ttu-id="e919d-137">이 절차 중에 암호화 키, 저장소 키 및 다양한 확인 키와 URL이 복사되고 사본이 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-137">This procedure involves copying and saving a copy of an encryption key, a storage key, and a number of identification keys and URLs.</span></span> <span data-ttu-id="e919d-138">이 정보는 5 단계에서 PST 파일을 암호화 및 업로드 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-138">This information will be used in Step 5 to encrypt and upload your PST files.</span></span> <span data-ttu-id="e919d-139">암호나 기타 보안 관련 정보를 보호하는 것처럼 특히 주의해서 이러한 항목을 보호해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-139">Be sure to take precautions to protect these just like you would protect passwords or other security-related information.</span></span> <span data-ttu-id="e919d-140">예를 들어 암호로 보호된 Microsoft Word 문서에 저장하거나 암호화된 USB 드라이브에 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-140">For example you might save them to a password-protected Microsoft Word document or save them to an encrypted USB drive.</span></span> <span data-ttu-id="e919d-141">이러한 키, ID 및 URL의 예를 보려면 [자세한 정보](#more-information) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-141">See the [More information](#more-information) section for an example of these keys, IDs, and URLs.</span></span> 
    
- <span data-ttu-id="e919d-142">PST 파일을 Office 365의 비활성 사서함으로 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-142">You can import PST files to an inactive mailbox in Office 365.</span></span> <span data-ttu-id="e919d-143">PST 가져오기 매핑 파일의 `Mailbox` 매개 변수에 비활성 사서함의 GUID를 지정 하 여이 작업을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-143">You do this by specifying the GUID of the inactive mailbox in the  `Mailbox` parameter in the PST Import mapping file.</span></span> <span data-ttu-id="e919d-144">자세한 내용은 [7 단계](#step-7-create-the-pst-import-mapping-file) 를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-144">See [Step 7](#step-7-create-the-pst-import-mapping-file) for more information.</span></span> 
    
- <span data-ttu-id="e919d-145">Exchange 하이브리드 배포에서는 기본 사서함이 온-프레미스 인 사용자에 대해 PST 파일을 클라우드 기반 보관 사서함으로 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-145">In an Exchange hybrid deployment, you can import PST files to a cloud-based archive mailbox for a user whose primary mailbox is on-premises.</span></span> <span data-ttu-id="e919d-146">PST 가져오기 매핑 파일에서 다음을 수행 하 여이 작업을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-146">You do this by doing the following in the PST Import mapping file:</span></span>
    
  - <span data-ttu-id="e919d-147">`Mailbox` 매개 변수의 사용자 온-프레미스 사서함에 대 한 전자 메일 주소를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-147">Specify the email address for the user's on-premises mailbox in the  `Mailbox` parameter.</span></span> 
    
  - <span data-ttu-id="e919d-148">`IsArchive` 매개 변수에 **TRUE** 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-148">Specify the **TRUE** value in the  `IsArchive` parameter.</span></span> 
    
    <span data-ttu-id="e919d-149">자세한 내용은 [7 단계](#step-7-create-the-pst-import-mapping-file) 를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-149">See [Step 7](#step-7-create-the-pst-import-mapping-file) for more information.</span></span> 
    
- <span data-ttu-id="e919d-150">PST 파일을 Office 365 사서함으로 가져온 후에는 사서함에 대 한 보존 설정이 무기한 유지 되도록 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-150">After PST files are imported to an Office 365 mailbox, the retention hold setting for the mailbox is turned on for an indefinite duration.</span></span> <span data-ttu-id="e919d-151">즉, 보존 보류를 해제 하거나 보류를 해제 하기 위해 날짜를 설정할 때까지 사서함에 할당 된 보존 정책이 처리 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-151">This means that the retention policy assigned to the mailbox won't be processed until you turn off the retention hold or set a date to turn off the hold.</span></span> <span data-ttu-id="e919d-152">이 작업을 수행 하는 이유는 무엇 인가요?</span><span class="sxs-lookup"><span data-stu-id="e919d-152">Why do we do this?</span></span> <span data-ttu-id="e919d-153">사서함으로 가져온 메시지가 오래 된 경우 사서함에 대해 구성 된 보존 설정에 따라 보존 기간이 만료 되어 영구적으로 삭제 (제거) 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-153">If messages imported to a mailbox are old, they might be permanently deleted (purged) because their retention period has expired based on the retention settings configured for the mailbox.</span></span> <span data-ttu-id="e919d-154">사서함을 보존 상태로 두면 사서함 소유자가 새로 가져온 메시지를 관리할 수 있는 시간을 제공 하거나 사서함의 보존 설정을 변경할 수 있는 시간을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-154">Placing the mailbox on retention hold will give the mailbox owner time to manage these newly-imported messages or give you time to change the retention settings for the mailbox.</span></span> <span data-ttu-id="e919d-155">보존 유지 관리에 대 한 제안은 [More information](#more-information) 섹션을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-155">See the [More information](#more-information) section for suggestions about managing the retention hold.</span></span> 
    
- <span data-ttu-id="e919d-156">PST 파일을 Office 365에 업로드 하기 전에 암호화할 필요가 없는 경우 [네트워크 업로드를 사용 하 여 pst 파일을 office 365에 가져오기](use-network-upload-to-import-pst-files.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-156">If you don't need to encrypt your PST files before you upload them to Office 365, see [Use network upload to import PST files to Office 365](use-network-upload-to-import-pst-files.md).</span></span>
    
- <span data-ttu-id="e919d-157">네트워크 업로드를 사용 하 여 PST 파일을 Office 365로 가져오는 방법에 대 한 질문과 대답은 [office 365로 pst 파일 가져오기에 대 한 FAQ](faqimporting-pst-files-to-office-365.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-157">For frequently asked questions about using network upload to import PST files to Office 365, see [FAQ about importing PST files to Office 365](faqimporting-pst-files-to-office-365.md).</span></span>
  
## <a name="step-1-set-up-azure-rights-management-for-pst-import"></a><span data-ttu-id="e919d-158">1단계: PST 가져오기를 위한 Azure 권한 관리 설정 </span><span class="sxs-lookup"><span data-stu-id="e919d-158">Step 1: Set up Azure Rights Management for PST Import</span></span>

<span data-ttu-id="e919d-159">PST 가져오기는 Office 365의 azure RMS (권한 관리) 서비스에서 제공 하는 암호화 기능을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-159">PST Import uses the encryption functionality provided by the Azure Rights Management (Azure RMS) service in Office 365.</span></span> <span data-ttu-id="e919d-160">이렇게 하면 PST 파일을 Office 365에 업로드 하기 전에 암호화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-160">This lets you to encrypt PST files before uploading them to Office 365.</span></span> 
  
<span data-ttu-id="e919d-161">PST 가져오기에 대해 Azure RMS를 구성 하는 작업은 다음 세 단계로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-161">Configuring Azure RMS for PST Import consists of three steps:</span></span>
  
- [<span data-ttu-id="e919d-162">Azure RMS 활성화</span><span class="sxs-lookup"><span data-stu-id="e919d-162">Activating Azure RMS</span></span>](#activating-azure-rms)
    
- [<span data-ttu-id="e919d-163">Exchange Online에서 RMS 구성</span><span class="sxs-lookup"><span data-stu-id="e919d-163">Configuring RMS in Exchange Online</span></span>](#configuring-rms-in-exchange-online)
    
- [<span data-ttu-id="e919d-164">Active Directory RMS 클라이언트 설치</span><span class="sxs-lookup"><span data-stu-id="e919d-164">Installing the Active Directory RMS Client</span></span>](#installing-the-active-directory-rms-client)
    
### <a name="activating-azure-rms"></a><span data-ttu-id="e919d-165">Azure RMS 활성화</span><span class="sxs-lookup"><span data-stu-id="e919d-165">Activating Azure RMS</span></span>

<span data-ttu-id="e919d-166">Azure RMS는 기본적으로 사용 하지 않도록 설정 되어 있지만, 사용자나 조직의 다른 관리자가 활성화 했을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-166">Azure RMS is disabled by default, but you or another administrator in your organization might have activated it.</span></span> <span data-ttu-id="e919d-167">Azure [권한 관리를 활성화](https://docs.microsoft.com/azure/information-protection/deploy-use/activate-service) 하 여 azure DRM을 설치 및 정품 인증 하기 위한 지침을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-167">Follow instructions on [Activating Azure Rights Management](https://docs.microsoft.com/azure/information-protection/deploy-use/activate-service) to install and activate Azure DRM.</span></span>
  
### <a name="configuring-rms-in-exchange-online"></a><span data-ttu-id="e919d-168">Exchange Online에서 RMS 구성</span><span class="sxs-lookup"><span data-stu-id="e919d-168">Configuring RMS in Exchange Online</span></span>

<span data-ttu-id="e919d-169">권한 관리 서비스를 활성화 한 후에는 Azure RMS를 사용 하도록 Exchange Online에서 IRM (정보 권한 관리)을 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-169">After you've activated the Rights Management service, the next step is to set up Information Rights Management (IRM) in Exchange Online to use Azure RMS.</span></span> <span data-ttu-id="e919d-170">자세한 내용은 [Azure 권한 관리를 사용 하도록 IRM 구성을](https://go.microsoft.com/fwlink/p/?LinkId=394816)참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-170">For more information, see [Configure IRM to use Azure Rights Management](https://go.microsoft.com/fwlink/p/?LinkId=394816).</span></span>
  
1. <span data-ttu-id="e919d-171">[원격 PowerShell을 사용 하 여 Exchange Online에 연결](https://go.microsoft.com/fwlink/p/?LinkId=396554 )합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-171">[Connect to Exchange Online using Remote PowerShell](https://go.microsoft.com/fwlink/p/?LinkId=396554 ).</span></span>
    
2. <span data-ttu-id="e919d-172">다음 명령을 실행하여 RMS 키 공유 URL을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-172">Run the following command to set the RMS key sharing URL.</span></span>
    
    ```
    Set-IRMConfiguration -RMSOnlineKeySharingLocation <RMS key sharing location>
    ```

    <span data-ttu-id="e919d-173">다음 표를 사용하여 조직의 위치에 대한 올바른 RMS 키 공유 위치를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-173">Use the following table to determine the correct RMS key sharing location for the location of your organization.</span></span>
    
    |<span data-ttu-id="e919d-174">**위치**</span><span class="sxs-lookup"><span data-stu-id="e919d-174">**Location**</span></span>|<span data-ttu-id="e919d-175">**RMS 키 공유 위치**</span><span class="sxs-lookup"><span data-stu-id="e919d-175">**RMS key sharing location**</span></span>|
    |:-----|:-----|
    |<span data-ttu-id="e919d-176">북미</span><span class="sxs-lookup"><span data-stu-id="e919d-176">North America</span></span>  <br/> | `https://sp-rms.na.aadrm.com/TenantManagement/ServicePartner.svc` <br/> |
    |<span data-ttu-id="e919d-177">유럽 연합</span><span class="sxs-lookup"><span data-stu-id="e919d-177">European Union</span></span>  <br/> | `https://sp-rms.eu.aadrm.com/TenantManagement/ServicePartner.svc` <br/> |
    |<span data-ttu-id="e919d-178">아시아</span><span class="sxs-lookup"><span data-stu-id="e919d-178">Asia</span></span>  <br/> | `https://sp-rms.ap.aadrm.com/TenantManagement/ServicePartner.svc` <br/> |
    |<span data-ttu-id="e919d-179">남미</span><span class="sxs-lookup"><span data-stu-id="e919d-179">South America</span></span>  <br/> | `https://sp-rms.sa.aadrm.com/TenantManagement/ServicePartner.svc` <br/> |
    |<span data-ttu-id="e919d-180">Office 365 Government(정부 커뮤니티 클라우드)</span><span class="sxs-lookup"><span data-stu-id="e919d-180">Office 365 for Government (Government Community Cloud)</span></span>  <br/> | <span data-ttu-id="e919d-181">`https://sp-rms.govus.aadrm.com/TenantManagement/ServicePartner.svc`<sup>개</sup></span><span class="sxs-lookup"><span data-stu-id="e919d-181">`https://sp-rms.govus.aadrm.com/TenantManagement/ServicePartner.svc`<sup>1</sup></span></span> <br/> |
   
    > [!NOTE]
    > <span data-ttu-id="e919d-182"><sup>1</sup> 정부 Sku 용 Office 365 (정부 커뮤니티 클라우드)를 구입한 고객만이 RMS 키 공유 위치를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-182"><sup>1</sup> Only customers who have purchased Office 365 for Government SKUs (Government Community Cloud) should use this RMS key sharing location.</span></span> 
  
    <span data-ttu-id="e919d-183">예를 들어이 명령은 북미에 있는 고객을 위해 Exchange Online에서 RMS Online 키 공유 위치를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-183">For example, this command configures the RMS Online key sharing location in Exchange Online for a customer located in North America.</span></span>
    
    ```
    Set-IRMConfiguration -RMSOnlineKeySharingLocation "https://sp-rms.na.aadrm.com/TenantManagement/ServicePartner.svc"
    ```

3. <span data-ttu-id="e919d-184">다음 명령을 실행 하 여 RMS Online에서 Office 365 조직으로의 TPD (트러스트 된 게시 도메인)를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-184">Run the following command to import a Trusted Publishing Domain (TPD) from RMS Online to your Office 365 organization.</span></span> 
    
    ```
    Import-RMSTrustedPublishingDomain -RMSOnline -Name "RMS Online"
    ```

    <span data-ttu-id="e919d-185">TPD에는 PST 파일 암호화를 비롯하여 조직에서 RMS 기능을 사용하는 데 필요한 설정이 포함되어 있습니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-185">A TPD contains the settings needed to use RMS features in your organization, including encrypting PST files.</span></span> 
    
4. <span data-ttu-id="e919d-186">다음 명령을 실행 하 여 Office 365 조 직에 대해 IRM을 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-186">Run the following command to enable IRM for your Office 365 organization.</span></span>
    
    ```
    Set-IRMConfiguration -InternalLicensingEnabled $true
    ```

### <a name="installing-the-active-directory-rms-client"></a><span data-ttu-id="e919d-187">Active Directory RMS 클라이언트 설치</span><span class="sxs-lookup"><span data-stu-id="e919d-187">Installing the Active Directory RMS Client</span></span>

<span data-ttu-id="e919d-188">이 섹션의 마지막 단계에서는 RMS(권한 관리 서비스) 클라이언트 2.1을 다운로드하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-188">The last step in this section is to download the Rights Management Services (RMS) Client 2.1.</span></span> <span data-ttu-id="e919d-189">이 소프트웨어는 Azure RMS에 대 한 액세스를 보호 하 고 Azure RMS를 사용 하는 응용 프로그램을 통한 정보 흐름을 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-189">This software helps protect access to Azure RMS and protects information flowing through applications that use Azure RMS.</span></span> <span data-ttu-id="e919d-190">5 단계에서 PST 파일을 암호화 하 고 업로드 하는 데 사용할 컴퓨터에 RMS 클라이언트를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-190">Install the RMS client on the same computer that you'll use to encrypt and upload PST files in Step 5.</span></span> 
  
1. <span data-ttu-id="e919d-191">[권한 관리 서비스 클라이언트 2.1](https://www.microsoft.com/en-us/download/details.aspx?id=38396)을 다운로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-191">Download [Rights Management Service Client 2.1](https://www.microsoft.com/en-us/download/details.aspx?id=38396).</span></span>
    
2. <span data-ttu-id="e919d-192">Active Directory 권한 관리 서비스 클라이언트 2.1 마법사를 실행하여 클라이언트를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-192">Run the Active Directory Rights Management Service Client 2.1 wizard to install the client.</span></span>

## <a name="step-2-generate-an-encryption-key-for-pst-import"></a><span data-ttu-id="e919d-193">2단계: PST 가져오기를 위한 암호화 키 생성</span><span class="sxs-lookup"><span data-stu-id="e919d-193">Step 2: Generate an encryption key for PST Import</span></span>

<span data-ttu-id="e919d-194">Azure RMS를 설정한 후에는 Office 365에 업로드 하는 PST 파일을 암호화 하는 데 사용 되는 암호화 키 (대칭 키)를 생성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-194">After you've set up Azure RMS, the next step is to generate an encryption key (called a symmetric key) that will be used to encrypt the PST files that you upload to Office 365.</span></span> <span data-ttu-id="e919d-195">이 작업을 수행 하려면 PST 가져오기 서비스를 Azure Active Directory의 서비스 주체로 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-195">You'll do this by adding the PST Import service as a service principal in Azure Active Directory.</span></span> <span data-ttu-id="e919d-196">이 응용 프로그램을 서비스 주체로 추가 하면 암호화 된 PST 파일을 5 단계에서 Azure storage 위치에 업로드할 때 PST 가져오기 서비스가 Azure Active Directory를 통해 직접 인증할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-196">Adding this application as a service principal will allow the PST Import service to authenticate directly with Azure Active Directory when you upload encrypted the PST files to the Azure storage location in Step 5.</span></span>
  
1. <span data-ttu-id="e919d-197">Windows PowerShell 용 Azure Active Directory 모듈을 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-197">Start the Azure Active Directory Module for Windows PowerShell.</span></span>
    
2. <span data-ttu-id="e919d-198">다음 명령을 실행하여 Microsoft Online 서비스에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-198">Run the following command to connect to the Microsoft Online service.</span></span>
    
    ```
    Connect-MsolService
    ```

3. <span data-ttu-id="e919d-199">Office 365 조 직의 관리자 계정에 대 한 자격 증명을 입력 하 고 **확인**을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-199">Enter the credentials for an administrator account in your Office 365 organization, and then click **OK**.</span></span>
    
4. <span data-ttu-id="e919d-200">다음 명령을 실행하여 암호화 키(대칭 키)를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-200">Run the following command to generate an encryption key (call a symmetric key).</span></span> <span data-ttu-id="e919d-201">새 PST 암호화 보안 주체를 만들어 이 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-201">You'll do this by creating a new PST Encryption Principal.</span></span>
    
    ```
    New-MsolServicePrincipal -DisplayName PstEncryptionPrincipal
    ```

    <span data-ttu-id="e919d-202">시스템에 새 PST 암호화 보안 주체에 대한 대칭 키 및 속성이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-202">The system displays the symmetric key and the properties for the new PST Encryption Principal.</span></span>
    
    ![표시되는 대칭 키 복사 및 저장](media/0003fdea-dace-41d2-b49d-f5c98c6230ca.png)
  
5. <span data-ttu-id="e919d-p117">대칭 키를 텍스트 또는 Word 파일에 복사합니다. 앞서 설명한 것처럼 특별히 주의해서 이 파일을 보호해야 합니다. 대칭 키는 이 경우에만 표시되므로 이 창을 스크린샷으로 캡처한 후 같은 파일에 저장하는 것도 도움이 될 수 있습니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-p117">Copy the symmetric key to a text or Word file. As previously stated, be sure to take precautions to protect this file. Because this is the only time that the symmetric key is displayed, you might also consider taking a screenshot of this window and saving it to the same file.</span></span> 
    
    > [!IMPORTANT]
    > <span data-ttu-id="e919d-207">PST 암호화 보안 주체를 만든 후에는 **Get-MsolServicePrincipal** cmdlet을 사용하여 대칭 키를 검색할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-207">After you create the PST Encryption Principal, you won't be able to retrieve the symmetric key by using the **Get-MsolServicePrincipal** cmdlet.</span></span> <span data-ttu-id="e919d-208">그래서 키를 저장해야 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-208">That's why it's important to save the key.</span></span> 
  
<span data-ttu-id="e919d-209">Windows PowerShell 용 Azure Active Directory 모듈을 열어 두고 Microsoft Online 서비스에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-209">Keep the Azure Active Directory Module for Windows PowerShell open and connected to the Microsoft Online service.</span></span> <span data-ttu-id="e919d-210">다음 단계에서는 이 창에서 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-210">You'll run a command in this window in the next step.</span></span>

## <a name="step-3-obtain-rms-tenant-id-and-licensing-url"></a><span data-ttu-id="e919d-211">3 단계: RMS 테 넌 트 ID 및 라이선스 URL 획득</span><span class="sxs-lookup"><span data-stu-id="e919d-211">Step 3: Obtain RMS tenant ID and licensing URL</span></span>

<span data-ttu-id="e919d-212">다음 단계에서는 조직의 Azure RMS 서비스에 대 한 테 넌 트 ID 및 라이선스 위치 URL을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-212">The next step is to obtain the tenant ID and licensing location URL for the Azure RMS service for your organization.</span></span> <span data-ttu-id="e919d-213">이 정보를 복사하고 2단계의 대칭 키가 포함된 동일한 파일에 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-213">Copy and save this information to the same file that contains the symmetric key from Step 2.</span></span> <span data-ttu-id="e919d-214">ID 및 URL은 5 단계에서 PST 파일을 암호화 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-214">The ID and URL will be used in Step 5 to encrypt your PST files.</span></span>
  
1. <span data-ttu-id="e919d-215">Windows PowerShell 용 Azure Active Directory 모듈 (Microsoft Online 서비스에 연결 됨)에서 다음 명령을 실행 하 여 Office 365 조직의 Azure RMS 서비스에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-215">In the Azure Active Directory Module for Windows PowerShell (which is connected to the Microsoft Online service), run the following command to connect to the Azure RMS service in your Office 365 organization.</span></span>
    
    ```
    Connect-AadrmService 
    ```

2. <span data-ttu-id="e919d-216">Office 365 조 직의 관리자 계정에 대 한 자격 증명을 입력 하 고 **확인**을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-216">Enter the credentials for an administrator account in your Office 365 organization and then click **OK**.</span></span>
    
3. <span data-ttu-id="e919d-217">다음 명령을 실행 하 여 Office 365 조직의 Azure RMS 서비스에 대 한 테 넌 트 ID를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-217">Run the following command to display the tenant ID for the Azure RMS service in your Office 365 organization.</span></span>
    
    ```
    Get-AadrmConfiguration | FL BPOSId
    ```

    <span data-ttu-id="e919d-218">`BPOSId` 속성 값을 복사 하 여 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-218">Copy and save the value for the  `BPOSId` property.</span></span> 
    
4. <span data-ttu-id="e919d-219">다음 명령을 실행 하 여 Azure RMS 서비스의 라이선스 위치를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-219">Run the following command to display the licensing location for your Azure RMS service.</span></span>
    
    ```
    Get-AadrmConfiguration | FL LicensingIntranetDistributionPointUrl
    ```

    <span data-ttu-id="e919d-220">`LicensingIntranetDistributionPointUrl` 속성 값을 복사 하 여 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-220">Copy and save the value for the  `LicensingIntranetDistributionPointUrl` property.</span></span> 

## <a name="step-4-download-the-pst-import-tools-and-copy-the-sas-url"></a><span data-ttu-id="e919d-221">4 단계: PST 가져오기 도구 다운로드 및 SAS URL 복사</span><span class="sxs-lookup"><span data-stu-id="e919d-221">Step 4: Download the PST Import tools and copy the SAS URL</span></span>

<span data-ttu-id="e919d-222">Azure RMS를 구성 하 고 PST 파일을 암호화 하는 데 필요한 Id를 가져왔는지 확인 한 후에는 5 단계에서 실행할 도구를 다운로드 하 고 설치 하 여 PST 파일을 암호화 하 고 Office 365에 업로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-222">Now that you've configured Azure RMS and obtained the IDs necessary to encrypt PST files, the next step is to download and install the tools that you will run in Step 5 to encrypt and upload PST files to Office 365.</span></span> <span data-ttu-id="e919d-223">이러한 도구는 Azure AzCopy 도구 및 Office 365 데이터 암호화 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-223">These tools are the Azure AzCopy tool and the Office 365 Data Encryption tool.</span></span> <span data-ttu-id="e919d-224">조직의 SAS URL도 복사 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-224">You'll also copy the SAS URL for your organization.</span></span> <span data-ttu-id="e919d-225">이 URL은 조직에 대 한 Microsoft 클라우드의 Azure 저장소 위치 및 공유 액세스 서명 (SAS) 키에 대 한 네트워크 URL의 조합입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-225">This URL is a combination of the network URL for the Azure storage location in the Microsoft cloud for your organization and a Shared Access Signature (SAS) key.</span></span> <span data-ttu-id="e919d-226">이 키를 사용 하 여 Azure 저장소 위치에 PST 파일을 업로드 하는 데 필요한 권한을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-226">This key provides you with the necessary permissions to upload PST files to your Azure storage location.</span></span> <span data-ttu-id="e919d-227">2 단계와 3 단계에서 다른 정보를 복사한 것과 같은 파일에 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-227">Save it to the same file that you've copied the other information to in Step 2 and Step 3.</span></span> <span data-ttu-id="e919d-228">앞에서 설명한 것 처럼, SAS URL을 보호 하기 위한 예방 조치를 취합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-228">As previously stated, take precautions to protect the SAS URL.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="e919d-229">Azure 저장소 위치에 PST 파일을 업로드 하려면 Azure AzCopy 버전 5.0를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-229">You have to use Azure AzCopy version 5.0 to successfully upload PST files to the Azure storage location.</span></span> <span data-ttu-id="e919d-230">최신 버전의 AzCopy 도구는 PST 파일을 Office 365로 가져올 때 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-230">Newer versions of the AzCopy tool aren't supported for importing PST files to Office 365.</span></span> <span data-ttu-id="e919d-231">이 단계의 절차를 수행 하 여 네트워크를 **통해 파일 업로드** 페이지에서 AzCopy 도구를 다운로드 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-231">Be sure to download the AzCopy tool from the **Upload files over the network** page by following the procedures in this step.</span></span> 
  
1. <span data-ttu-id="e919d-232">[https://protection.office.com](https://protection.office.com)으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-232">Go to [https://protection.office.com](https://protection.office.com).</span></span>
    
2. <span data-ttu-id="e919d-233">Office 365 조직의 관리자 계정에 대 한 자격 증명을 사용 하 여 Office 365에 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-233">Sign in to Office 365 using the credentials for an administrator account in your Office 365 organization.</span></span>
    
3. <span data-ttu-id="e919d-234">왼쪽 창에서 **데이터 관리** 를 클릭 하 고 **가져오기를**클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-234">In the left pane, click **Data governance** and then click **Import**.</span></span>
    
4. <span data-ttu-id="e919d-235">**가져오기** 페이지에서 **가져오기 서비스로 이동**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-235">On the **Import** page, click **Go to the Import service**.</span></span>
    
5. <span data-ttu-id="e919d-236">**Office로 데이터 가져오기 365** 페이지에서 **새 작업** ![추가 아이콘](media/ITPro-EAC-AddIcon.gif)을 클릭 한 다음 **전자 메일 메시지 (PST 파일) 업로드**를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-236">On the **Import data to Office 365** page, click **New job** ![Add Icon](media/ITPro-EAC-AddIcon.gif), and then click **Upload email messages (PST files)**.</span></span>
    
6. <span data-ttu-id="e919d-237">네트워크를 **통해 파일 업로드** 페이지의 2 단계에서 **네트워크 업로드 SAS URL 표시**를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-237">On the **Upload files over the network** page, in step 2, click **Show network upload SAS URL**.</span></span>
    
7. <span data-ttu-id="e919d-238">URL이 표시 되 면 복사 하 여 다른 키를 저장 한 파일에 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-238">After the URL is displayed, copy it and save it in the file where you saved the other keys.</span></span> <span data-ttu-id="e919d-239">전체 URL을 복사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-239">Be sure to copy the entire URL.</span></span> 
    
8. <span data-ttu-id="e919d-240">3 단계에서 **Azure AzCopy Tool 다운로드** 를 클릭 하 여 azure AzCopy 도구를 다운로드 하 고 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-240">In step 3, click **Download the Azure AzCopy tool** to download and install the Azure AzCopy tool.</span></span> 
    
9. <span data-ttu-id="e919d-241">팝업 창에서 **실행**을 클릭하여 Azure AzCopy 도구를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-241">In the pop-up window, click **Run** to install the Azure AzCopy tool.</span></span> 
    
    > [!IMPORTANT]
    > <span data-ttu-id="e919d-242">64 비트 Windows를 실행 하는 컴퓨터 `%ProgramFiles(x86)%\Microsoft SDKs\Azure\AzCopy` 의 기본 위치에 Azure AzCopy 도구를 설치 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-242">Be sure to install the Azure AzCopy tool in the default location, which is `%ProgramFiles(x86)%\Microsoft SDKs\Azure\AzCopy` on a computer running 64-bit Windows.</span></span> <span data-ttu-id="e919d-243">이는 5 단계에서 O365importtool.zip를 실행 하는 경우 AzCopy 도구를 찾아서이 위치에서 찾는 것 이기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-243">That's because when you run the O365ImportTool.exe in Step 5, it looks for the AzCopy tool in this location.</span></span> 
  
10. <span data-ttu-id="e919d-244">Azure AzCopy 도구를 설치한 후에 **는 Office 365 데이터 암호화 및 가져오기 도구 다운로드**를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-244">After you've installed the Azure AzCopy tool, click **Download the Office 365 Data Encryption and Import tool**.</span></span>
    
11. <span data-ttu-id="e919d-245">팝업 창에서 다른 \*\*\*\* \> **이름으로 저장** 을 클릭 하 여 로컬 컴퓨터의 폴더에 o365importtool.zip 파일을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-245">In the pop-up window, click **Save** \> **Save as** to save the O365ImportTool.zip file to a folder on your local computer.</span></span> 
    
12. <span data-ttu-id="e919d-246">O365ImportTool.zip 파일의 압축을 풉니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-246">Extract the O365ImportTool.zip file.</span></span>
    
13. <span data-ttu-id="e919d-247">**취소** 를 클릭 하 여 **네트워크를 통해 파일 업로드** 페이지를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-247">Click **Cancel** to close the **Upload files over the network** page.</span></span> 
 
## <a name="step-5-encrypt-and-upload-your-pst-files-to-office-365"></a><span data-ttu-id="e919d-248">5 단계: PST 파일 암호화 및 Office 365 업로드</span><span class="sxs-lookup"><span data-stu-id="e919d-248">Step 5: Encrypt and upload your PST files to Office 365</span></span>

<span data-ttu-id="e919d-249">1-4 단계를 완료 한 후에는 O365importtool.zip 도구를 사용 하 여 PST 파일을 암호화 하 고 Office 365에 업로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-249">After you have completed Step 1 through Step 4, you're ready to use the O365ImportTool.exe tool to encrypt and upload PST files to Office 365.</span></span> <span data-ttu-id="e919d-250">이 도구는 PST 파일을 암호화 한 다음 Microsoft 클라우드의 Azure 저장소 위치에 업로드 하 고 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-250">This tool encrypts your PST files and then uploads and stores them in an Azure storage location in the Microsoft cloud.</span></span> <span data-ttu-id="e919d-251">이 단계를 완료하려면 PST 파일이 조직의 파일 공유 또는 파일 서버에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-251">To complete this step, the PST files have to be located in a file share or file server in your organization.</span></span> <span data-ttu-id="e919d-252">다음 절차에서는 이것을 원본 디렉터리라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-252">This is known as the source directory in the following procedure.</span></span> <span data-ttu-id="e919d-253">O365ImportTool.exe 도구를 실행할 때마다 다른 원본 디렉터리를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-253">Each time you run the O365ImportTool.exe tool, you'll can specify a different source directory.</span></span> 
  
1. <span data-ttu-id="e919d-254">로컬 컴퓨터에서 명령 프롬프트를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-254">Open a Command Prompt on your local computer.</span></span>
    
2. <span data-ttu-id="e919d-255">4단계에서 O365ImportTool.exe 도구를 설치한 디렉터리로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-255">Go to the directory where you installed the O365ImportTool.exe tool in Step 4.</span></span>
    
3. <span data-ttu-id="e919d-256">다음 명령을 실행 하 여 PST 파일을 암호화 하 고 Office 365에 업로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-256">Run the following command to encrypt and upload PST files to Office 365.</span></span>
    
    ```
    O365ImportTool.exe /srcdir:<Location of PST files> /protect-rmsserver:<RMS licensing location> /protect-tenantid:<BPOSId> /protect-key:<Symmetric key> /transfer:upload /upload-dest:<Network upload URL> /upload-destSAS:<SAS key>
    ```

    <span data-ttu-id="e919d-p126">다음 표에서는 매개 변수와 해당 필수 값에 대해 설명합니다. 이전 단계에서 획득한 정보가 이러한 매개 변수의 값에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-p126">The following table describes the parameters and their required values. Note that the information you obtained in the previous steps is used in the values for these parameters.</span></span>
    
    |<span data-ttu-id="e919d-259">**매개 변수**</span><span class="sxs-lookup"><span data-stu-id="e919d-259">**Parameter**</span></span>|<span data-ttu-id="e919d-260">**설명**</span><span class="sxs-lookup"><span data-stu-id="e919d-260">**Description**</span></span>|<span data-ttu-id="e919d-261">**예제**</span><span class="sxs-lookup"><span data-stu-id="e919d-261">**Example**</span></span>|
    |:-----|:-----|:-----|
    | `/srcdir:` <br/> |<span data-ttu-id="e919d-262">Office 365로 업로드 될 PST 파일이 들어 있는 조직의 원본 디렉터리를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-262">Specifies the source directory in your organization that contains the PST files that will be uploaded to Office 365.</span></span>  <br/> | `/srcdir:\\FILESERVER01\PSTs` <br/> |
    | `/protect-rmsserver:` <br/> |<span data-ttu-id="e919d-263">Azure RMS 서비스의 라이선스 위치를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-263">Specifies the licensing location for your Azure RMS service.</span></span> <span data-ttu-id="e919d-264">3 단계에서 구한 `LicensingIntranetDistributionPointUrl` 속성 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-264">Use the value of the  `LicensingIntranetDistributionPointUrl` property that you obtained in Step 3.</span></span> <span data-ttu-id="e919d-265">이 매개 변수의 값을 큰따옴표 ("")로 묶어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-265">Be sure to surround the value of this parameter with double-quotation marks (" ")</span></span>  <br/> | `/protect-rmsserver:"https://afcbd8ec-cb2b-4a1a-8246-0b4bc22d1978.rms.na.aadrm.com/_wmcs/licensing"` <br/> |
    | `/protect-tenantid:` <br/> |<span data-ttu-id="e919d-266">Azure RMS 조직의 id를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-266">Specifies the identity of your Azure RMS organization.</span></span> <span data-ttu-id="e919d-267">3 단계에서 구한 `BPOSId` 속성 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-267">Use the value of the  `BPOSId` property that you obtained in Step 3.</span></span>  <br/> | `/protect-tenantid:42745b33-2a5c-4726-8a2a-ca43caa0f74b` <br/> |
    | `/protect-key:` <br/> |<span data-ttu-id="e919d-268">2단계에서 획득한 대칭 키를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-268">Specifies the symmetric key that you obtained in Step 2.</span></span> <span data-ttu-id="e919d-269">이 매개 변수의 값을 큰따옴표(" ")로 묶으세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-269">Be sure to surround the value of this parameter with double-quotation marks (" ").</span></span>  <br/> | `/protect-key:"l+R+Umc5RGmSBh1oW+DoyMxm/h5h2JJXFcNOFiNp867="` <br/> |
    | `/transfer:` <br/> |네트워크를 통해 PST 파일을 업로드할지 또는 하드 드라이브를 통해 발송할지를 지정합니다. 이 값 `upload` 은 네트워크를 통해 파일을 업로드 하 고 있음을 나타냅니다. <span data-ttu-id="e919d-272">이 값 `drive` 은 pst를 하드 드라이브에 공급 중임을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-272">The value  `drive` indicates that you are shipping the PSTs on a hard drive.</span></span>  <br/> | `/transfer:upload` <br/> |
    | `/upload-dest:` <br/> |<span data-ttu-id="e919d-273">PST 파일이 업로드 되는 Office 365의 대상을 지정 합니다. 조직의 Azure 저장소 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-273">Specifies the destination in Office 365 where your PST files will be uploaded to; this is the Azure storage location for your organization.</span></span> <span data-ttu-id="e919d-274">이 매개 변수의 값은 4 단계에서 복사한 SAS URL의 네트워크 업로드 URL로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-274">The value for this parameter consists of the network upload URL from the SAS URL that you copied in Step 4.</span></span> <span data-ttu-id="e919d-275">이 매개 변수의 값을 큰따옴표(" ")로 묶으세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-275">Be sure to surround the value of this parameter with double-quotation marks (" ").</span></span>  <br/><br/> <span data-ttu-id="e919d-276">**팁:** 반드시 Azure storage 위치에 하위 폴더를 지정 하 여 암호화 된 PST 파일을 업로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-276">**Tip:** (Optional) You can specify a subfolder in the Azure storage location to upload the encrypted PST files to.</span></span> <span data-ttu-id="e919d-277">이렇게 하려면 네트워크 업로드 URL에 하위 폴더 위치 ("ingestiondata")를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-277">You do this by adding a subfolder location (after "ingestiondata") in the network upload URL.</span></span> <span data-ttu-id="e919d-278">첫 번째 예에서는 하위 폴더를 지정 하지 않습니다. 즉, Pst가 Azure 저장소 위치의 루트 ( *ingestiondata* )로 업로드 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-278">The first example doesn't specify a subfolder; that means the PSTs will be uploaded to the root (named  *ingestiondata*  ) of the Azure storage location.</span></span> <span data-ttu-id="e919d-279">두 번째 예에서는 PST 파일을 Azure 저장소 위치에 *encryptedpsts* 라는 하위 폴더에 업로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-279">The second example uploads the PST files to a subfolder (named  *EncryptedPSTs*  ) in the Azure storage location.</span></span>           | `/upload-dest:"https://3c3e5952a2764023ad14984.blob.core.windows.net/ingestiondata"` <br/> <span data-ttu-id="e919d-280">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-280">Or</span></span>  <br/>  `/upload-dest:"https://3c3e5952a2764023ad14984.blob.core.windows.net/ingestiondata/EncryptedPSTs"` <br/> |
    | `/upload-destSAS:` <br/> |<span data-ttu-id="e919d-281">조직의 SAS 키를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-281">Specifies the SAS key for you organization.</span></span> <span data-ttu-id="e919d-282">이 매개 변수의 값은 4 단계에서 복사한 SAS URL의 SAS 키로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-282">The value for this parameter consists of the SAS key from the SAS URL that you copied in Step 4.</span></span> <span data-ttu-id="e919d-283">SAS 키의 첫 번째 문자는 물음표 ("?")입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-283">Note that first character in the SAS key is a question mark ("?").</span></span> <span data-ttu-id="e919d-284">이 매개 변수의 값을 큰따옴표(" ")로 묶으세요.</span><span class="sxs-lookup"><span data-stu-id="e919d-284">Be sure to surround the value of this parameter with double-quotation marks (" ").</span></span>  <br/> | `/upload-destSAS:"?sv=2012-02-12&amp;se=9999-12-31T23%3A59%3A59Z&amp;sr=c&amp;si=IngestionSasForAzCopy201601121920498117&amp;sig=Vt5S4hVzlzMcBkuH8bH711atBffdrOS72TlV1mNdORg%3D"` <br/> |
    | `/recurse` <br/> |<span data-ttu-id="e919d-285">이 선택적 스위치는 O365importtool.zip 도구에서 `/srcdir:` 매개 변수로 지정 된 원본 디렉터리의 하위 폴더에 있는 pst 파일을 복사 하도록 재귀 모드를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-285">This optional switch specifies the recursive mode so that the O365ImportTool.exe tool will copy PSTs files that are located in subfolders in the source directory that is specified by the  `/srcdir:` parameter.</span></span>  <br/><br/> <span data-ttu-id="e919d-286">**참고:** 이 스위치를 포함 하는 경우 하위 폴더의 PST 파일은 업로드 된 후 Azure 저장소 위치에서 파일 경로 이름이 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-286">**Note:** If you include this switch, PST files in subfolders will have a different file pathname in the Azure storage location after they're uploaded.</span></span> <span data-ttu-id="e919d-287">7단계에서 만드는 CSV 파일의 정확한 파일 경로 이름을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-287">You'll have to specify the exact file pathname in the CSV file that you create in Step 7.</span></span>           | `/recurse` <br/> |
   
    <span data-ttu-id="e919d-288">다음은 각 매개 변수의 실제 값을 사용하는 O365ImportTool.exe 도구의 구문 예입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-288">Here's an example of the syntax for the O365ImportTool.exe tool using actual values for each parameter:</span></span>
    
    ```
    O365ImportTool.exe /srcdir:\\FILESERVER01\PSTs /protect-rmsserver:"https://afcbd8ec-cb2b-4a1a-8246-0b4bc22d1978.rms.na.aadrm.com/_wmcs/licensing" /protect-tenantid:42745b33-2a5c-4726-8a2a-ca43caa0f74b  /protect-key:"l+R+Umc5RGmSBh1oW+DoyMxm/h5h2JJXFcNOFiNp867=" /transfer:upload /upload-dest:"https://3c3e5952a2764023ad14984.blob.core.windows.net/ingestiondata" /upload-destSAS:"?sv=2012-02-12&amp;se=9999-12-31T23%3A59%3A59Z&amp;sr=c&amp;si=IngestionSasForAzCopy201601121920498117&amp;sig=Vt5S4hVzlzMcBkuH8bH711atBffdrOS72TlV1mNdORg%3D"
    ```

    <span data-ttu-id="e919d-p135">이 명령을 실행하면 PST 파일의 암호화 및 업로드 진행률을 보여 주는 상태 메시지가 표시됩니다. 마지막 상태 메시지는 성공적으로 암호화 및 업로드된 파일의 총 수를 표시합니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-p135">After you run the command, status messages are displayed that show the progress of encrypting and uploading the PST files. A final status message shows the total number of files that were successfully encrypted and uploaded.</span></span> 
    
    > [!TIP]
    > <span data-ttu-id="e919d-291">O365ImportTool.exe 명령을 성공적으로 실행하고 모든 매개 변수가 올바른지 확인한 후에는 명령줄 구문 복사본을 이전 단계에서 획득한 정보를 복사한 것과 동일한(보안) 파일에 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-291">After you successfully run the O365ImportTool.exe command and verify that all the parameters are correct, save a copy of the command line syntax to the same (secured) file where you copied the information you obtained in the previous steps.</span></span> <span data-ttu-id="e919d-292">그런 다음 O365importtool.zip 도구를 실행 하 여 PST 파일을 암호화 하 고 Office 365에 업로드 하려고 할 때마다 명령 프롬프트에이 명령을 복사 하 여 붙여 넣을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-292">Then you can copy and paste this command in a Command Prompt each time that you want to run the O365ImportTool.exe tool to encrypt and upload PST files to Office 365.</span></span> <span data-ttu-id="e919d-293">변경 해야 할 수 있는 값은 `/srcdir:` and `/upload-dest:` 매개 변수에 대 한 값일 뿐입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-293">The only values you might have to change are the ones for the  `/srcdir:` and  `/upload-dest:` parameters.</span></span> 
  
## <a name="optional-step-6-view-a-list-of-the-pst-files-uploaded-to-office-365"></a><span data-ttu-id="e919d-294">반드시 6 단계: Office 365에 업로드 된 PST 파일 목록 보기</span><span class="sxs-lookup"><span data-stu-id="e919d-294">(Optional) Step 6: View a list of the PST files uploaded to Office 365</span></span>

<span data-ttu-id="e919d-295">선택적 단계로 Microsoft Azure Storage Explorer (무료 오픈 소스 도구)를 설치 하 고 사용 하 여 Azure blob에 업로드 한 PST 파일의 목록을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-295">As an optional step, you can install and use the Microsoft Azure Storage Explorer (which is a free, open source tool) to view the list of the PST files that you've uploaded to the Azure blob.</span></span> <span data-ttu-id="e919d-296">이 작업을 수행 하는 데는 세 가지 좋은 이유가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-296">There are three good reasons to do this:</span></span>
  
- <span data-ttu-id="e919d-297">조직의 공유 폴더 또는 파일 서버에 있는 PST 파일이 Azure blob에 성공적으로 업로드 되었는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-297">Verify that PST files from the shared folder or file server in your organization were successfully uploaded to the Azure blob.</span></span>

- <span data-ttu-id="e919d-298">PST 파일이 암호화 되어 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-298">Verify that the PST files are encrypted.</span></span> <span data-ttu-id="e919d-299">암호화 된 PST 파일의 `.pfile` 확장명은 PST 파일 이름에 추가 됩니다. 예를 `pilarp.pst.pfile`들면입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-299">Encrypted PST files have a  `.pfile` extension appended to the PST filename; for example,  `pilarp.pst.pfile`.</span></span>
    
- <span data-ttu-id="e919d-300">Azure blob에 업로드 된 각 PST 파일에 대해 파일 이름 (및 포함 된 경우 하위 폴더 경로 이름)이 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-300">Verify the filename (and the subfolder pathname if you included one) for each PST file uploaded to the Azure blob.</span></span> <span data-ttu-id="e919d-301">다음 단계에서 PST 매핑 파일을 만들 때 각 PST 파일의 폴더 경로와 파일 이름을 모두 지정해야 하므로 이러한 정보를 유용하게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-301">This is really helpful when you're creating the PST mapping file in the next step because you have to specify both the folder pathname and filename for each PST file.</span></span> <span data-ttu-id="e919d-302">이러한 이름을 확인하면 PST 매핑 파일의 잠재적인 오류를 줄이는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-302">Verifying these names can help reduce potential errors in your PST mapping file.</span></span>
    
<span data-ttu-id="e919d-303">Microsoft Azure Storage Explorer가 미리 보기에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-303">The Microsoft Azure Storage Explorer is in Preview.</span></span> 
  
 > [!IMPORTANT]
>  <span data-ttu-id="e919d-304">Azure 저장소 탐색기를 사용 하 여 PST 파일을 업로드 하거나 수정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-304">You can't use the Azure Storage Explorer to upload or modify PST files.</span></span> <span data-ttu-id="e919d-305">PST 파일을 Office 365로 가져오는 유일한 방법은 AzCopy을 사용 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-305">The only supported method for importing PST files to Office 365 is to use AzCopy.</span></span> <span data-ttu-id="e919d-306">또한 Azure blob에 업로드 한 PST 파일은 삭제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-306">Also, you can't delete PST files that you've uploaded to the Azure blob.</span></span> <span data-ttu-id="e919d-307">PST 파일을 삭제 하려고 하면 필요한 사용 권한이 없다는 오류 메시지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-307">If you try to delete a PST file, you'll receive an error about not having the required permissions.</span></span> <span data-ttu-id="e919d-308">모든 PST 파일이 Azure 저장소 영역에서 자동으로 삭제 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-308">Note that all PST files are automatically deleted from your Azure storage area.</span></span> <span data-ttu-id="e919d-309">If there are no import jobs in progress, then all PST files in the **ingestiondata** container are deleted 30 days after the most recent import job was created.</span><span class="sxs-lookup"><span data-stu-id="e919d-309">If there are no import jobs in progress, then all PST files in the **ingestiondata** container are deleted 30 days after the most recent import job was created.</span></span> 
  
<span data-ttu-id="e919d-310">Azure 저장소 탐색기를 설치 하 고 Azure storage 영역에 연결 하려면 다음을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-310">To install the Azure Storage Explorer and connect to your Azure storage area:</span></span>
  
1. <span data-ttu-id="e919d-311">[Microsoft Azure 저장소 탐색기 도구](https://go.microsoft.com/fwlink/p/?LinkId=544842)를 다운로드 하 고 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-311">Download and install the [Microsoft Azure Storage Explorer tool](https://go.microsoft.com/fwlink/p/?LinkId=544842).</span></span>
    
2. <span data-ttu-id="e919d-312">Microsoft Azure 저장소 탐색기를 시작 하 고 왼쪽 창에서 **저장소 계정을** 마우스 오른쪽 단추로 클릭 한 다음 **Azure Storage에 연결**을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-312">Start the Microsoft Azure Storage Explorer, right-click **Storage Accounts** in the left pane, and then click **Connect to Azure storage**.</span></span> 
    
    ![저장소 계정을 마우스 오른쪽 단추로 클릭 한 다음 Azure Storage에 연결을 클릭 합니다.](media/75b80cc3-c336-4f96-ad32-54ac9b96a7af.png)
  
3. <span data-ttu-id="e919d-314">**Azure storage에 연결**아래의 상자에서 4 단계에서 얻은 SAS URL을 붙여넣은 후 **다음**을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-314">In the box under **Connect to Azure storage**, paste the SAS URL that you obtained in Step 4, and then click **Next**.</span></span> 
    
    ![Azure Storage에 연결 페이지의 상자에 SAS URL을 붙여 넣습니다.](media/5d034128-e087-48e1-9ebc-4c9fa262d5b7.png)
  
4. <span data-ttu-id="e919d-316">**연결 요약** 페이지에서 연결 정보를 검토 하 고 **연결**을 클릭할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-316">On the **Connection summary** page, you can review the connection information, and then click **Connect**.</span></span> 
    
5. <span data-ttu-id="e919d-317">**저장소 계정**에서 **(서비스 SAS)** 노드를 확장 하 고 **Blob 컨테이너** 노드를 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-317">Under **Storage Accounts**, expand the **(Service SAS)** node, and then expand the **Blob Containers** node.</span></span> 
    
6. <span data-ttu-id="e919d-318">**ingestiondata**를 마우스 오른쪽 단추로 클릭한 다음 **Blob 컨테이너 편집기 열기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-318">Right-click **ingestiondata**, and then click **Open Blob Container Editor**.</span></span>
    
    ![ingestiondata를 마우스 오른쪽 단추로 클릭한 다음 Blob 컨테이너 편집기 열기를 클릭합니다.](media/f50eee30-9202-4efc-904a-2895a0bc388d.png)
  
    <span data-ttu-id="e919d-320">5 단계에서 업로드 한 PST 파일 목록이 포함 된 Azure storage 영역이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-320">The Azure storage area, with a list of the PST files that you uploaded in Step 5 is displayed.</span></span>
    
    ![Azure 저장소 탐색기는 사용자가 업로드한 PST 파일 목록이 표시됩니다.](media/a448ae43-e744-4153-8304-22b59e93883c.png)
  
7. <span data-ttu-id="e919d-322">Microsoft Azure 저장소 탐색기 사용을 마친 후 **ingestiondata**를 마우스 오른쪽 단추로 클릭 하 고 **분리** 를 클릭 하 여 Azure 저장소 영역에서 연결을 끊습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-322">When you're finished using the Microsoft Azure Storage Explorer, right-click **ingestiondata**, and then click **Detach** to disconnect from your Azure storage area.</span></span> <span data-ttu-id="e919d-323">그러지 않으면 다음 번에 연결할 때 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-323">Otherwise, you'll receive an error the next time you try to attach.</span></span> 
    
    ![수집을 마우스 오른쪽 단추로 클릭하고 분리를 클릭하여 Azure 저장소 영역에서 연결 끊기](media/1e8e5e95-4215-4ce4-a13d-ab5f826a0510.png)
  
## <a name="step-7-create-the-pst-import-mapping-file"></a><span data-ttu-id="e919d-325">7 단계: PST 가져오기 매핑 파일 만들기</span><span class="sxs-lookup"><span data-stu-id="e919d-325">Step 7: Create the PST Import mapping file</span></span>

<span data-ttu-id="e919d-326">PST 파일을 암호화 하 고 Office 365 조 직의 Azure 저장 위치로 업로드 한 후에는 PST 파일을 가져올 사용자 사서함을 지정 하는 CSV (쉼표로 구분 된 값) 파일을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-326">After the PST files have been encrypted and uploaded to the Azure storage location for your Office 365 organization, the next step is to create a comma separated value (CSV) file that specifies which user mailboxes the PST files will be imported to.</span></span> <span data-ttu-id="e919d-327">PST 가져오기 작업을 만드는 다음 단계에서 이 CSV 파일을 제출합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-327">You will submit this CSV file in the next step when you create a PST Import job.</span></span>
  
1. <span data-ttu-id="e919d-328">[PST 가져오기 매핑 파일의 복사본을 다운로드](https://go.microsoft.com/fwlink/p/?LinkId=544717)합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-328">[Download a copy of the PST Import mapping file](https://go.microsoft.com/fwlink/p/?LinkId=544717).</span></span> 
    
2. <span data-ttu-id="e919d-p143">CSV 파일을 열거나 로컬 컴퓨터에 저장합니다. 다음 예에서는 완료된 PST 가져오기 매핑 파일(메모장에서 열림)을 보여 줍니다. CSV 파일을 편집할 경우 Microsoft Excel을 사용하는 것이 훨씬 더 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-p143">Open or save the CSV file to your local computer. The following example shows a completed PST Import mapping file (opened in NotePad). It's much easier to use Microsoft Excel to edit the CSV file.</span></span>
    
    ```
    Workload,FilePath,Name,Mailbox,IsArchive,TargetRootFolder,ContentCodePage,SPFileContainer,SPManifestContainer,SPSiteUrl
    Exchange,,annb.pst.pfile,annb@contoso.onmicrosoft.com,FALSE,/,,,,
    Exchange,,annb_archive.pst.pfile,annb@contoso.onmicrosoft.com,TRUE,/ImportedPst,,,,
    Exchange,,donh.pst.pfile,donh@contoso.onmicrosoft.com,FALSE,/,,,,
    Exchange,,donh_archive.pst.pfile,donh@contoso.onmicrosoft.com,TRUE,/ImportedPst,,,,
    Exchange,EncryptedPSTs,pilarp.pst.pfile,pilarp@contoso.onmicrosoft.com,FALSE,,,,,
    Exchange,EncryptedPSTs,pilarp_archive.pst.pfile,pilarp@contoso.onmicrosoft.com,TRUE,/ImportedPst,,,,
    Exchange,EncryptedPSTs,tonyk.pst.pfile,tonyk@contoso.onmicrosoft.com,FALSE,,,,,
    Exchange,EncryptedPSTs,tonyk_archive.pst.pfile,tonyk@contoso.onmicrosoft.com,TRUE,/ImportedPst,,,,
    Exchange,EncryptedPSTs,zrinkam.pst.pfile,zrinkam@contoso.onmicrosoft.com,FALSE,,,,,
    Exchange,EncryptedPSTs,zrinkam_archive.pst.pfile,zrinkam@contoso.onmicrosoft.com,TRUE,/ImportedPst,,,,
    ```

    <span data-ttu-id="e919d-332">CSV 파일의 첫 번째 행 또는 머리글 행은 PST 가져오기 서비스에서 PST 파일을 사용자 사서함으로 가져오는 데 사용하는 매개 변수를 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-332">The first row, or header row, of the CSV file lists the parameters that will be used by the PST Import service to import the PST files to user mailboxes.</span></span> <span data-ttu-id="e919d-333">각 매개 변수 이름은 쉼표로 구분됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-333">Each parameter name is separated by a comma.</span></span> <span data-ttu-id="e919d-334">머리글 행 아래의 각 행은 PST 파일을 특정 사서함으로 가져오기 위한 매개 변수 값을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-334">Each row under the header row represents the parameter values for importing a PST file to a specific mailbox.</span></span> <span data-ttu-id="e919d-335">사용자 사서함에 가져올 각 PST 파일에 대해 하나의 행이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-335">You will need a row for each PST file that you want to import to a user mailbox.</span></span> <span data-ttu-id="e919d-336">매핑 파일의 자리 표시자 데이터를 실제 데이터로 바꾸어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-336">Be sure to replace the placeholder data in the mapping file with your actual data.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="e919d-337">SharePoint 매개 변수를 포함하여 머리글 행의 어떤 내용도 변경하지 않도록 합니다. 변경한 내용은 PST 가져오기 프로세스 동안 무시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-337">Don't change anything in the header row, including the SharePoint parameters; they will be ignored during the PST Import process.</span></span> 
  
3. <span data-ttu-id="e919d-338">다음 표의 정보를 사용하여 CSV 파일을 필요한 정보로 채웁니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-338">Use the information in the following table to populate the CSV file with the required information.</span></span>
    
    |<span data-ttu-id="e919d-339">**매개 변수**</span><span class="sxs-lookup"><span data-stu-id="e919d-339">**Parameter**</span></span>|<span data-ttu-id="e919d-340">**설명**</span><span class="sxs-lookup"><span data-stu-id="e919d-340">**Description**</span></span>|<span data-ttu-id="e919d-341">**예제**</span><span class="sxs-lookup"><span data-stu-id="e919d-341">**Example**</span></span>|
    |:-----|:-----|:-----|
    | `Workload` <br/> |<span data-ttu-id="e919d-342">데이터를 가져올 Office 365 서비스를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-342">Specifies the Office 365 service that data will be imported to.</span></span> <span data-ttu-id="e919d-343">PST 파일을 사용자 사서함으로 가져오려면을 사용 `Exchange`합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-343">To import PST files to user mailboxes, use  `Exchange`.</span></span>  <br/> | `Exchange` <br/> |
    | `FilePath` <br/> |<span data-ttu-id="e919d-344">5 단계에서 PST 파일을 업로드 한 Azure 저장소 위치의 폴더 위치를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-344">Specifies the folder location in the Azure storage location that you uploaded the PST files to in Step 5.</span></span>  <br/>  <span data-ttu-id="e919d-345">5 단계에 있는 `/upload-dest:` 매개 변수의 네트워크 URL에 선택적 하위 폴더 이름을 포함 하지 않은 경우 CSV 파일에서이 매개 변수를 비워 둡니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-345">If you didn't include an optional subfolder name in the network URL in the  `/upload-dest:` parameter in Step 5, leave this parameter blank in the CSV file.</span></span> <span data-ttu-id="e919d-346">하위 폴더 이름을 포함 하는 경우이 매개 변수에 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-346">If you included a subfolder name, specify it in this parameter.</span></span> <span data-ttu-id="e919d-347">이 매개 변수의 값은 대/소문자를 구분 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-347">The value for this parameter is case sensitive.</span></span> <span data-ttu-id="e919d-348">두 방법 중 어느 것이 든 `FilePath` 매개 변수의 값에 "ingestiondata"를 포함 *하지 마십시오* .</span><span class="sxs-lookup"><span data-stu-id="e919d-348">Either way,  *don't*  include "ingestiondata" in the value for the  `FilePath` parameter.</span></span>  <br/> <br/><span data-ttu-id="e919d-349">**중요:** 파일 경로 이름의 대/소문자는 5 단계의 `/upload-dest:` 매개 변수에 SAS URL에 선택적 하위 폴더 이름을 포함 한 경우에 사용한 경우와 동일 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-349">**Important:** The case for the file path name must be the same case that you used if you included an optional subfolder name in the SAS URL in the  `/upload-dest:` parameter in Step 5.</span></span> <span data-ttu-id="e919d-350">예를 들어 5 단계의 하위 `EncryptedPSTs` 폴더 이름에 대해 CSV 파일의 `encryptedpsts` `FilePath` 매개 변수를 사용 하는 경우 PST 파일에 대 한 가져오기가 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-350">For example, if you used  `EncryptedPSTs` for the subfolder name in Step 5 and then use  `encryptedpsts` in the  `FilePath` parameter in CSV file, the import for the PST file will fail.</span></span> <span data-ttu-id="e919d-351">두 인스턴스에서 같은 대/소문자를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-351">Be sure to use the same case in both instances.</span></span>           |<span data-ttu-id="e919d-352">(공백으로 둠)</span><span class="sxs-lookup"><span data-stu-id="e919d-352">(leave blank)</span></span>  <br/> <span data-ttu-id="e919d-353">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-353">Or</span></span>  <br/>  `EncryptedPSTs` <br/> |
    | `Name` <br/> |<span data-ttu-id="e919d-354">사용자 사서함으로 가져올 PST 파일의 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-354">Specifies the name of the PST file that will be imported to the user mailbox.</span></span> <span data-ttu-id="e919d-355">이 매개 변수의 값은 대/소문자를 구분 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-355">The value for this parameter is case sensitive.</span></span> <span data-ttu-id="e919d-356">Azure 저장소 위치로 업로드 되는 PST 파일은 암호화 되므로 PST 파일 이름에 `.pfile` 확장명이 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-356">Because the PST files that are uploaded to the Azure storage location are encrypted, a  `.pfile` extension is added to the PST filename.</span></span> <span data-ttu-id="e919d-357">CSV 파일의 PST `.pfile` 파일 이름에 확장을 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-357">You must add the  `.pfile` extension to the name of the PST files in the CSV file.</span></span>  <br/><br/> <span data-ttu-id="e919d-358">**중요:** CSV 파일의 PST 파일 이름에 대 한 사례는 5 단계에서 Azure 저장소 위치로 업로드 된 PST 파일과 동일 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-358">**Important:** The case for the PST file name in the CSV file must be the same as the PST file that was uploaded to the Azure storage location in Step 5.</span></span> <span data-ttu-id="e919d-359">예를 들어 CSV 파일의 `annb.pst.pfile` `Name` 매개 변수에서 사용 하는 경우 실제 PST 파일 `AnnB.pst`의 이름은 해당 pst 파일에 대 한 가져오기가 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-359">For example, if you use  `annb.pst.pfile` in the  `Name` parameter in the CSV file, but the name of the actual PST file is  `AnnB.pst`, the import for that PST file will fail.</span></span> <span data-ttu-id="e919d-360">CSV 파일의 PST 이름에 실제 PST 파일과 동일한 대/소문자가 사용 되는지 확인해 보십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-360">Be sure that the name of the PST in the CSV file uses the same case as the actual PST file.</span></span>           | `annb.pst.pfile` <br/> |
    | `Mailbox` <br/> |<span data-ttu-id="e919d-361">PST 파일을 가져올 사서함의 전자 메일 주소를 지정합니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-361">Specifies the email address of the mailbox that the PST file will be imported to.</span></span>  <br/> <span data-ttu-id="e919d-362">PST 파일을 비활성 사서함으로 가져오려면이 매개 변수의 사서함 GUID를 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-362">To import a PST file to an inactive mailbox, you have to specify the mailbox GUID for this parameter.</span></span> <span data-ttu-id="e919d-363">이 GUID를 얻으려면 Exchange Online에서 다음 PowerShell 명령을 실행 합니다.`Get-Mailbox -InactiveMailboxOnly <identity of inactive mailbox> | FL Guid`</span><span class="sxs-lookup"><span data-stu-id="e919d-363">To obtain this GUID, run the following PowerShell command in Exchange Online:  `Get-Mailbox -InactiveMailboxOnly <identity of inactive mailbox> | FL Guid`</span></span> <br/><br/> <span data-ttu-id="e919d-364">**참고:** 경우에 따라 전자 메일 주소가 같은 여러 개의 사서함이 있고, 하나의 사서함이 활성 사서함이 고, 다른 사서함이 일시 삭제 (또는 비활성) 상태인 경우에만 가능 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-364">**Note:** In some cases, you might have multiple mailboxes with the same email address, where one mailbox is an active mailbox and the other mailbox is in a soft-deleted (or inactive) state.</span></span> <span data-ttu-id="e919d-365">이러한 상황에서는 PST 파일을 가져올 사서함을 고유 하 게 식별 하는 사서함 GUID를 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-365">In these situations, you have specify the mailbox GUID to uniquely identify the mailbox to import the PST file to.</span></span> <span data-ttu-id="e919d-366">활성 사서함에 대해이 GUID를 가져오려면 다음 PowerShell 명령을 실행 `Get-Mailbox - <identity of active mailbox> | FL Guid`합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-366">To obtain this GUID for active mailboxes, run the following PowerShell command:  `Get-Mailbox - <identity of active mailbox> | FL Guid`.</span></span> <span data-ttu-id="e919d-367">일시 삭제 된 (또는 비활성) 사서함의 GUID를 가져오려면 다음 명령을 실행 합니다.`Get-Mailbox - <identity of soft-deleted or inactive mailbox> -SoftDeletedMailbox | FL Guid`</span><span class="sxs-lookup"><span data-stu-id="e919d-367">To obtain the GUID for soft-deleted (or inactive) mailboxes, run this command  `Get-Mailbox - <identity of soft-deleted or inactive mailbox> -SoftDeletedMailbox | FL Guid`</span></span>           | `annb@contoso.onmicrosoft.com` <br/> <span data-ttu-id="e919d-368">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-368">Or</span></span>  <br/>  `2d7a87fe-d6a2-40cc-8aff-1ebea80d4ae7` <br/> |
    | `IsArchive` <br/> | <span data-ttu-id="e919d-369">PST 파일을 사용자의 보관 사서함으로 가져올 것인지 여부를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-369">Specifies whether or not to import the PST file to the user's archive mailbox.</span></span> <span data-ttu-id="e919d-370">다음 두 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-370">There are two options:</span></span>  <br/> <span data-ttu-id="e919d-371">**FALSE** PST 파일을 사용자의 기본 사서함으로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-371">**FALSE** Imports the PST file to the user's primary mailbox.</span></span>  <br/> <span data-ttu-id="e919d-372">**TRUE** PST 파일을 사용자의 보관 사서함으로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-372">**TRUE** Imports the PST file to the user's archive mailbox.</span></span>  <br/>  <span data-ttu-id="e919d-373">If you leave this parameter blank, the PST file is imported to the user's primary mailbox.</span><span class="sxs-lookup"><span data-stu-id="e919d-373">If you leave this parameter blank, the PST file is imported to the user's primary mailbox.</span></span>  <br/><br/> <span data-ttu-id="e919d-374">**참고:** 기본 사서함이 온-프레미스 사용자의 클라우드 기반 보관 사서함으로 PST 파일을 가져오려면이 매개 변수에 대해 **TRUE** 를 지정 하 고 해당 `Mailbox` 매개 변수의 사용자 온-프레미스 사서함에 대 한 전자 메일 주소를 지정 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-374">**Note:** To import a PST file to a cloud-based archive mailbox for a user whose primary mailbox is on-premises, just specify **TRUE** for this parameter and specify the email address for the user's on-premises mailbox for the  `Mailbox` parameter.</span></span>           | `FALSE` <br/> <span data-ttu-id="e919d-375">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-375">Or</span></span>  <br/>  `TRUE` <br/> |
    | `TargetRootFolder` <br/> | <span data-ttu-id="e919d-376">PST 파일을 가져올 사서함 폴더를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-376">Specifies the mailbox folder that the PST file is imported to.</span></span>  <br/>  <span data-ttu-id="e919d-377">이 매개 변수를 비워 두면 PST를 사서함의 루트 수준 (받은 편지함 폴더 및 \*\*\*\* 다른 기본 사서함 폴더와 같은 수준)에 있는 새 폴더로 가져오게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-377">If you leave this parameter blank, the PST will be imported to a new folder named **Imported** located at the root level of the mailbox (the same level as the Inbox folder and the other default mailbox folders).</span></span>  <br/>  <span data-ttu-id="e919d-378">지정 `/`하는 경우 PST 파일의 항목을 사용자의 받은 편지함 폴더로 직접 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-378">If you specify  `/`, items in the PST file will be imported directly in to the user's Inbox folder.</span></span>  <br/>  <span data-ttu-id="e919d-379">지정 `/<foldername>`하는 경우 PST 파일의 항목을 \* \<foldername\> \* 이라는 하위 폴더로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-379">If you specify  `/<foldername>`, items in the PST file will be imported to a subfolder named  *\<foldername\>*  .</span></span> <span data-ttu-id="e919d-380">예를 들어를 사용 하 `/ImportedPst`는 경우에는 항목을 **importedpst**라는 하위 폴더로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-380">For example, if you used  `/ImportedPst`, items would be imported to a subfolder named **ImportedPst**.</span></span> <span data-ttu-id="e919d-381">이 하위 폴더는 사용자의 받은 편지함 폴더에 배치 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-381">This subfolder will be located in the user's Inbox folder.</span></span>  <br/><br/> <span data-ttu-id="e919d-382">**팁:** Pst 파일을 가져올 가장 적합 한 폴더 위치를 결정할 수 있도록 몇 가지 테스트 일괄 처리를 실행 하 여이 매개 변수를 시험해 보십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-382">**Tip:** Consider running a few test batches to experiment with this parameter so you can determine the best folder location to import PSTs files to.</span></span>           |<span data-ttu-id="e919d-383">(공백으로 둠)</span><span class="sxs-lookup"><span data-stu-id="e919d-383">(leave blank)</span></span>  <br/> <span data-ttu-id="e919d-384">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-384">Or</span></span>  <br/>  `/` <br/> <span data-ttu-id="e919d-385">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-385">Or</span></span>  <br/>  `/ImportedPst` <br/> |
    | `ContentCodePage` <br/> |<span data-ttu-id="e919d-386">이 선택적 매개 변수는 ANSI 파일 형식으로 PST 파일을 가져오는 데 사용할 코드 페이지의 숫자 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-386">This optional parameter specifies a numeric value for the code page to use for importing PST files in the ANSI file format.</span></span> <span data-ttu-id="e919d-387">이 매개 변수는 일반적으로 문자 인코딩에 DBCS (더블 바이트 문자 집합)를 사용 하므로 중국어, 일본어 및 한국어 (CJK) 조직에서 PST 파일을 가져오는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-387">This parameter is used for importing PST files from Chinese, Japanese, and Korean (CJK) organizations because these languages typically use a double byte character set (DBCS) for character encoding.</span></span> <span data-ttu-id="e919d-388">이 매개 변수를 사용 하 여 사서함 폴더 이름에 DBCS를 사용 하는 언어에 대 한 PST 파일을 가져오지 않으면 가져온 후 폴더 이름이 왜곡 되는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-388">If this parameter isn't used to import PST files for languages that use DBCS for mailbox folder names, the folder names are often garbled after they're imported.</span></span> <span data-ttu-id="e919d-389">이 매개 변수에 사용할 지원 되는 값의 목록은 [코드 페이지 식별자](https://go.microsoft.com/fwlink/p/?LinkId=328514)를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-389">For a list of supported values to use for this parameter, see [Code Page Identifiers](https://go.microsoft.com/fwlink/p/?LinkId=328514).</span></span>  <br/><br/> <span data-ttu-id="e919d-390">**참고:** 앞에서 설명한 것 처럼이 매개 변수는 선택적으로 사용할 수 있으며 CSV 파일에 포함 하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-390">**Note:** As previously stated, this is an optional parameter and you don't have to include it in the CSV file.</span></span> <span data-ttu-id="e919d-391">또는 하나 이상의 행에 대해 값을 비워 두면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-391">Or you can include it and leave the value blank for one or more rows.</span></span>           |<span data-ttu-id="e919d-392">(공백으로 둠)</span><span class="sxs-lookup"><span data-stu-id="e919d-392">(leave blank)</span></span>  <br/> <span data-ttu-id="e919d-393">또는</span><span class="sxs-lookup"><span data-stu-id="e919d-393">Or</span></span>  <br/>  <span data-ttu-id="e919d-394">`932`(ANSI/OEM 일본어에 대 한 코드 페이지 식별자)</span><span class="sxs-lookup"><span data-stu-id="e919d-394">`932` (which is the code page identifier for ANSI/OEM Japanese)</span></span>  <br/> |
    | `SPFileContainer` <br/> |<span data-ttu-id="e919d-395">PST 가져오기의 경우 이 매개 변수를 비워 둡니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-395">For PST Import, leave this parameter blank.</span></span>  <br/> |<span data-ttu-id="e919d-396">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e919d-396">Not applicable</span></span>  <br/> |
    | `SPManifestContainer` <br/> |<span data-ttu-id="e919d-397">PST 가져오기의 경우 이 매개 변수를 비워 둡니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-397">For PST Import, leave this parameter blank.</span></span>  <br/> |<span data-ttu-id="e919d-398">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e919d-398">Not applicable</span></span>  <br/> |
    | `SPSiteUrl` <br/> |<span data-ttu-id="e919d-399">PST 가져오기의 경우 이 매개 변수를 비워 둡니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-399">For PST Import, leave this parameter blank.</span></span>  <br/> |<span data-ttu-id="e919d-400">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e919d-400">Not applicable</span></span>  <br/> |
  
## <a name="step-8-create-a-pst-import-job-in-office-365"></a><span data-ttu-id="e919d-401">8단계: Office 365에서 PST 가져오기 작업 만들기</span><span class="sxs-lookup"><span data-stu-id="e919d-401">Step 8: Create a PST Import job in Office 365</span></span>

<span data-ttu-id="e919d-402">마지막 단계는 Office 365에서 가져오기 서비스에 PST 가져오기 작업을 만드는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-402">The last step is to create the PST Import job in the Import service in Office 365.</span></span> <span data-ttu-id="e919d-403">앞서 설명한 것처럼 7단계에서 만든 PST 가져오기 매핑 파일을 전송합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-403">As previously explained, you will submit the PST Import mapping file that you created in Step 7.</span></span> <span data-ttu-id="e919d-404">새 작업을 만든 후에는 가져오기 서비스에서 매핑 파일의 정보를 사용 하 여 암호화를 취소 하 고, 5 단계에서 Office 365로 업로드 한 PST 파일을 지정 된 사용자 사서함으로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-404">After you create the new job, the Import service will use the information in the mapping file to un-encrypt and import the PST files (that you uploaded to Office 365 in Step 5) to the specified user mailbox.</span></span> 
  
1. <span data-ttu-id="e919d-405">[https://protection.office.com](https://protection.office.com)으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-405">Go to [https://protection.office.com](https://protection.office.com).</span></span>
    
2. <span data-ttu-id="e919d-406">Office 365 조직의 관리자 계정에 대 한 자격 증명을 사용 하 여 Office 365에 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-406">Sign in to Office 365 using the credentials for an administrator account in your Office 365 organization.</span></span>
    
3. <span data-ttu-id="e919d-407">왼쪽 창에서 **데이터 관리** 를 클릭 하 고 **가져오기를**클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-407">In the left pane, click **Data governance** and then click **Import**.</span></span>
    
4. <span data-ttu-id="e919d-408">**가져오기** 페이지에서 **가져오기 서비스로 이동**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-408">On the **Import** page, click **Go to the Import service**.</span></span>
    
5. <span data-ttu-id="e919d-409">**Office로 데이터 가져오기 365** 페이지에서 **새 작업**![추가 아이콘](media/ITPro-EAC-AddIcon.gif)을 클릭 한 다음 **전자 메일 메시지 (PST 파일) 업로드**를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-409">On the **Import data to Office 365** page, click **New job**![Add Icon](media/ITPro-EAC-AddIcon.gif), and then click **Upload email messages (PST files)**.</span></span>
    
6. <span data-ttu-id="e919d-410">**네트워크를 통해 파일 업로드** 페이지에서 **내 파일 업로드를 완료했습니다.** 및 **매핑 파일에 대한 액세스 권한이 있습니다.** 확인란을 클릭하고 **다음**을 클릭합니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-410">On the **Upload files over the network** page, click the **I'm done uploading my files** and **I have access to the mapping file** check boxes, and then click **Next**.</span></span> 
    
7. <span data-ttu-id="e919d-411">PST 가져오기 작업의 이름을 입력하고 **다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-411">Type a name for the PST Import job, and then click **Next**.</span></span>
    
8. <span data-ttu-id="e919d-412">추가 아이콘](media/ITPro-EAC-AddIcon.gif) 추가를 클릭 하 여 7 단계에서 만든 PST 매핑 파일을 선택 합니다. \*\*\*\* ![</span><span class="sxs-lookup"><span data-stu-id="e919d-412">Click **Add** ![Add Icon](media/ITPro-EAC-AddIcon.gif) to select the PST Mapping file that you created in Step 7.</span></span> 
    
9. <span data-ttu-id="e919d-413">CSV 파일의 이름이 목록에 나타나면 선택하고 **유효성 검사**를 클릭하여 CSV 파일에 오류가 있는지 확인합니다. </span><span class="sxs-lookup"><span data-stu-id="e919d-413">After the name of the CSV file appears in the list, select it and then click **Validate** to check your CSV file for errors.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="e919d-414">앞에서 설명한 것 처럼 PST 파일이 암호화 되 면 PST 파일 `.pfile` 이름에 확장명이 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-414">As previous explained, when the PST files are encrypted, a  `.pfile` extension is appended to the PST filename.</span></span> <span data-ttu-id="e919d-415">CSV 파일의 PST `.pfile` 파일 이름에 확장을 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-415">You must add the  `.pfile` extension to the name of the PST files in the CSV file.</span></span> <span data-ttu-id="e919d-416">이렇게 하지 않으면 CSV 파일의 유효성 검사가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-416">If you don't, the validation of the CSV file will fail.</span></span> 
  
    <span data-ttu-id="e919d-p158">PST 가져오기 작업을 만들려면 CSV 파일의 유효성 검사가 성공해야 합니다. 유효성 검사에 실패하는 경우 **상태** 열에서 **유효하지 않음** 링크를 클릭합니다. PST 가져오기 매핑 파일의 복사본이 열리고 실패한 파일의 각 행에 대해 오류 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-p158">The CSV file has to be successfully validated to create a PST Import job. If the validation fails, click the **Invalid** link in the **Status** column. A copy of your PST Import mapping file is opened, with a error message for each row in the file that failed.</span></span> 
    
10. <span data-ttu-id="e919d-420">PST 매핑 파일의 유효성 검사가 성공하면 사용 약관 문서를 읽고 해당 확인란을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-420">When the PST mapping file is successfully validated, read the terms and conditions document, and then click the checkbox.</span></span>
    
11. <span data-ttu-id="e919d-421">**마침**을 클릭하여 작업을 제출합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-421">Click **Finish** to submit the job.</span></span> 
    
    <span data-ttu-id="e919d-422">작업은 **Office로 데이터 가져오기 365** 의 PST 가져오기 작업 목록에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-422">The job is displayed in the list of PST Import jobs on the **Import data to Office 365** page.</span></span> 
    
12. <span data-ttu-id="e919d-423">작업을 선택 하 고 새로 고침 아이콘](media/O365-MDM-Policy-RefreshIcon.gif) **새로 고침**![을 클릭 하 여 세부 정보 창에 표시 되는 상태 정보를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-423">Select the job and click **Refresh**![Refresh icon](media/O365-MDM-Policy-RefreshIcon.gif) to update the status information that's displayed in the details pane.</span></span> 
    
13. <span data-ttu-id="e919d-424">세부 정보 창에서 **자세히 보기**를 클릭하여 선택한 작업에 대한 최신 상태를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-424">In the details pane, click **View details** to get the latest status for the selected job.</span></span> 
 
## <a name="more-information"></a><span data-ttu-id="e919d-425">추가 정보</span><span class="sxs-lookup"><span data-stu-id="e919d-425">More information</span></span>

- <span data-ttu-id="e919d-426">PST 파일을 Office 365로 가져오는 이유는 무엇 인가요?</span><span class="sxs-lookup"><span data-stu-id="e919d-426">Why import PST files to Office 365?</span></span>
    
  - <span data-ttu-id="e919d-427">조직의 전자 메일을 Office 365로 마이그레이션하는 것이 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-427">It's a good way to migrate your organization's email to Office 365.</span></span>
    
  - <span data-ttu-id="e919d-428">다음을 수행하여 조직의 준수 요구 사항을 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-428">It helps address compliance needs of your organization by letting you:</span></span>
    
  - <span data-ttu-id="e919d-429">추가 사서함 저장 공간을 사용자에게 제공하도록 보관 사서함을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-429">Enable archive mailboxes to give users additional mailbox storage space.</span></span>
    
  - <span data-ttu-id="e919d-430">콘텐츠를 보존하도록 보류 중인 사서함을 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-430">Place mailboxes on hold to preserve content.</span></span>
    
  - <span data-ttu-id="e919d-431">사서함의 콘텐츠를 검색하도록 Microsoft eDiscovery 도구를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-431">Use Microsoft eDiscovery tools to search for content in mailboxes.</span></span>
    
  - <span data-ttu-id="e919d-432">보존 정책을 사용하여 사서함 콘텐츠 보존 기간을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-432">Use retention policies to control how long mailbox content is retained.</span></span>
    
  - <span data-ttu-id="e919d-433">사서함 관련 이벤트에 대 한 Office 365 감사 로그를 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-433">Search the Office 365 audit log for mailbox-related events.</span></span>
    
  - <span data-ttu-id="e919d-434">데이터 손실로부터 보호하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-434">It helps protect against data loss.</span></span> <span data-ttu-id="e919d-435">Office 365 사서함으로 가져오는 PST 파일은 사용자 컴퓨터에 데이터를 저장 하는 것이 아니라 Exchange Online의 고가용성 기능을 상속 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-435">PST files that are imported to Office 365 mailboxes inherit the high availability features of Exchange Online, as opposed to storing the data on a user's computer.</span></span>
    
  - <span data-ttu-id="e919d-436">이러한 데이터는 클라우드에 저장되므로 모든 장치에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-436">The data is available to the user from all devices because it's stored in the cloud.</span></span>
    
- <span data-ttu-id="e919d-437">다음은 2, 3, 4 단계에서 얻은 키, Id 및 Url의 예입니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-437">Here's an example of the keys, IDs, and URLs that are obtained in Steps 2, 3, and 4.</span></span> <span data-ttu-id="e919d-438">또한이 예제에는 O365importtool.zip 도구에서 실행 하 여 PST 파일을 암호화 하 고 Office 365에 업로드 하는 명령에 대 한 구문도 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-438">This example also contains the syntax for the command that you run in the O365ImportTool.exe tool to encrypt and upload PST files to Office 365.</span></span> <span data-ttu-id="e919d-439">암호나 기타 보안 관련 정보를 보호하는 것처럼 특히 주의해서 이러한 항목을 보호해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-439">Be sure to take precautions to protect these just like you would protect passwords or other security-related information.</span></span>
    
  ```
  Symmetric key: l+R+Umc5RGmSBh1oW+DoyMxm/h5h2JJXFcNOFiNp867=

  BPOSId: 42745b33-2a5c-4726-8a2a-ca43caa0f74b

  LicensingIntranetDistributionPointUrl (RMS licensing location): https://afcbd8ec-cb2b-4a1a-8246-0b4bc22d1978.rms.na.aadrm.com/_wmcs/licensing
  
  SAS URL: https://3c3e5952a2764023ad14984.blob.core.windows.net/ingestiondata?sv=2012-02-12&amp;se=9999-12-31T23%3A59%3A59Z&amp;sr=c&amp;si=IngestionSasForAzCopy201601121920498117&amp;sig=Vt5S4hVzlzMcBkuH8bH711atBffdrOS72TlV1mNdORg%3D
  
  O365ImportTool.exe /srcdir:<Location of PST files> /protect-rmsserver:<RMS licensing location> /protect-tenantid:<BPOSId> /protect-key:<Symmetric key> /transfer:upload /upload-dest:<Network upload URL from the SAS URL> /upload-destSAS:<SAS key from the SAS URL>
  
  EXAMPLES
  
  This example uploads PST files to the root of the Azure storage location:

  O365ImportTool.exe /srcdir:\\FILESERVER01\PSTs /protect-rmsserver:"https://afcbd8ec-cb2b-4a1a-8246-0b4bc22d1978.rms.na.aadrm.com/_wmcs/licensing" /protect-tenantid:42745b33-2a5c-4726-8a2a-ca43caa0f74b /protect-ownerid:45beb445-4d06-47df-8e61-6ca1a88a080e /protect-key:"l+R+Umc5RGmSBh1oW+DoyMxm/h5h2JJXFcNOFiNp867=" /transfer:upload /upload-dest:"https://3c3e5952a2764023ad14984.blob.core.windows.net/ingestiondata" /upload-destSAS:"?sv=2012-02-12&amp;se=9999-12-31T23%3A59%3A59Z&amp;sr=c&amp;si=IngestionSasForAzCopy201601121920498117&amp;sig=Vt5S4hVzlzMcBkuH8bH711atBffdrOS72TlV1mNdORg%3D"
  
  This example uploads PST files to a subfolder named EncryptedPSTs  in the Azure storage location:
  
  O365ImportTool.exe /srcdir:\\FILESERVER01\PSTs /protect-rmsserver:"https://afcbd8ec-cb2b-4a1a-8246-0b4bc22d1978.rms.na.aadrm.com/_wmcs/licensing" /protect-tenantid:42745b33-2a5c-4726-8a2a-ca43caa0f74b /protect-ownerid:45beb445-4d06-47df-8e61-6ca1a88a080e /protect-key:"l+R+Umc5RGmSBh1oW+DoyMxm/h5h2JJXFcNOFiNp867=" /transfer:upload /upload-dest:"https://3c3e5952a2764023ad14984.blob.core.windows.net/ingestiondata/EncryptedPSTs" /upload-destSAS:"?sv=2012-02-12&amp;se=9999-12-31T23%3A59%3A59Z&amp;sr=c&amp;si=IngestionSasForAzCopy201601121920498117&amp;sig=Vt5S4hVzlzMcBkuH8bH711atBffdrOS72TlV1mNdORg%3D"
  ```

- <span data-ttu-id="e919d-440">앞에서 설명한 것 처럼 Office 365 가져오기 서비스는 PST 파일을 사서함으로 가져온 후 보존 보류 설정 (무기한 지속)을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-440">As previously explained, the Office 365 Import service turns on the retention hold setting (for an indefinite duration) after PST files are imported to a mailbox.</span></span> <span data-ttu-id="e919d-441">즉, 사서함 \*\* 에 할당 된 보존 정책이 `True` 처리 되지 않도록 RentionHoldEnabled 속성이로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-441">This means the  *RentionHoldEnabled*  property is set to  `True` so that the retention policy assigned to the mailbox won't be processed.</span></span> <span data-ttu-id="e919d-442">이렇게 하면 삭제 또는 보관 정책이 이전 메시지를 삭제 하거나 보관할 수 없도록 하 여 사서함 소유자가 새로 가져온 메시지를 관리 하 게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-442">This gives the mailbox owner time to manage the newly-imported messages by preventing a deletion or archive policy from deleting or archiving older messages.</span></span> <span data-ttu-id="e919d-443">이 보존 상태를 관리 하기 위해 수행할 수 있는 몇 가지 단계는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-443">Here are some steps you can take to manage this retention hold:</span></span> 
    
  - <span data-ttu-id="e919d-444">일정 기간이 지난 후에는 `Set-Mailbox -RetentionHoldEnabled $false` 명령을 실행 하 여 보존 상태를 해제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-444">After a certain period of time, you can turn off the retention hold by running the  `Set-Mailbox -RetentionHoldEnabled $false` command.</span></span> <span data-ttu-id="e919d-445">자세한 내용은 [사서함을 보존 상태로 두기](https://go.microsoft.com/fwlink/p/?LinkId=544749)를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-445">For instructions, see [Place a mailbox on retention hold](https://go.microsoft.com/fwlink/p/?LinkId=544749).</span></span>
    
  - <span data-ttu-id="e919d-446">나중에 특정 날짜에 해제 되도록 보존 기능을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-446">You can configure the retention hold so that it's turned off on some date in the future.</span></span> <span data-ttu-id="e919d-447">`Set-Mailbox -EndDateForRetentionHold <date>` 명령을 실행 하 여이 작업을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-447">You do this by running the  `Set-Mailbox -EndDateForRetentionHold <date>` command.</span></span> <span data-ttu-id="e919d-448">예를 들어 오늘 날짜가 6 월 1 일 2016, 30 일 이내에 보존을 해제 하려는 경우에는 다음 명령을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-448">For example, assuming that today's date is June 1, 2016 and you want the retention hold turned off in 30 days, you would run the following command:  `Set-Mailbox -EndDateForRetentionHold 7/1/2016`.</span></span> <span data-ttu-id="e919d-449">이 시나리오에서는 *RentionHoldEnabled* 속성을로 `True`설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-449">In this scenario, you would leave the  *RentionHoldEnabled*  property set to `True`.</span></span> <span data-ttu-id="e919d-450">자세한 내용은 [Set-Mailbox](https://go.microsoft.com/fwlink/p/?LinkId=150317)를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-450">For more information, see [Set-Mailbox](https://go.microsoft.com/fwlink/p/?LinkId=150317).</span></span>
    
  - <span data-ttu-id="e919d-451">사서함에 할당 된 보존 정책의 설정을 변경 하 여 가져온 이전 항목을 즉시 삭제 하거나 사용자의 보관 사서함으로 이동할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-451">You can change the settings for the retention policy that's assigned to the mailbox so that older items that were imported won't be immediately deleted or moved to the user's archive mailbox.</span></span> <span data-ttu-id="e919d-452">예를 들어 사서함에 할당 된 삭제 또는 보관 정책의 보존 기간을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-452">For example, you could lengthen the retention age for a deletion or archive policy that's assigned to the mailbox.</span></span> <span data-ttu-id="e919d-453">이 시나리오에서는 보존 정책 설정을 변경한 후 사서함에 대 한 보존을 해제 합니다.</span><span class="sxs-lookup"><span data-stu-id="e919d-453">In this scenario, you would turn off the retention hold on the mailbox after you changed the settings of the retention policy.</span></span> <span data-ttu-id="e919d-454">자세한 내용은 [Office 365 조 직에서 사서함에 대 한 보관 및 삭제 정책 설정을](set-up-an-archive-and-deletion-policy-for-mailboxes.md)참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="e919d-454">For more information, see [Set up an archive and deletion policy for mailboxes in your Office 365 organization](set-up-an-archive-and-deletion-policy-for-mailboxes.md).</span></span>
