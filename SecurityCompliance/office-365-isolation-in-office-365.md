---
title: office 365의 office 365 격리 및 액세스 제어
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: '요약: Office 365의 다양 한 응용 프로그램 내에서 격리 및 액세스 제어에 대 한 설명입니다.'
ms.openlocfilehash: 734c92a6f3185a25faf9aade1ba235444ed762da
ms.sourcegitcommit: f57b4001ef1327f0ea622e716a4d7d78f1769b49
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/23/2019
ms.locfileid: "30216858"
---
# <a name="isolation-and-access-control-in-office-365"></a><span data-ttu-id="cc703-103">Office 365에서 격리 및 액세스 제어</span><span class="sxs-lookup"><span data-stu-id="cc703-103">Isolation and Access Control in Office 365</span></span>

<span data-ttu-id="cc703-p101">Azure Active Directory 및 Office 365에서는 수십 개의 서비스, 수백 개의 엔터티, 수천 개의 관계, 그리고 수천 개의 특성 (엔터티, 관계 및 특성은 대개 응용 프로그램에 따라 다릅니다)이 포함 된 고도로 복잡 한 데이터 모델을 사용 합니다. 높은 수준에서 Azure Active Directory와 서비스 디렉터리는 테 넌 트 및 받는 사람의 컨테이너 이며, 상태 기반 복제 프로토콜을 사용 하 여 동기화 된 상태로 유지 됩니다. Azure Active directory에 보관 된 디렉터리 정보 외에도 각 서비스에는 자체 디렉터리 서비스 인프라 (예: Exchange online 디렉터리 서비스, SharePoint online 디렉터리 서비스 등)가 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p101">Azure Active Directory and Office 365 use a highly complex data model that includes tens of services, hundreds of entities, thousands of relationships, and tens of thousands of attributes (entities, relationships and attributes are often application-specific). At a high level, Azure Active Directory and the service directories are the containers of tenants and recipients, and they are kept in sync using state-based replication protocols. In addition to the directory information held within Azure Active Directory, each of the services also have their own directory services infrastructure (e.g., Exchange Online Directory Services, SharePoint Online Directory Services, etc.).</span></span> 
 
![Office 365 테 넌 트 데이터 동기화](media/office-365-isolation-tenant-data-sync.png)

<span data-ttu-id="cc703-p102">이 모델 내에는 단일 디렉터리 데이터 원본이 없습니다. 특정 시스템에서 모든 개별 데이터 부분을 소유 하지만 단일 시스템에서는 모든 데이터를 저장 하지 않습니다. Office 365 서비스는 Azure Active Directory와 협력 하 여 데이터 모델을 실현 합니다. Azure Active Directory는 일반적으로 모든 서비스에서 자주 사용 하는 소규모 및 정적 데이터에 대 한 공유 데이터에 대 한 "시스템 확정"입니다. Office 365 및 Azure Active Directory 내에서 사용 되는 페더레이션 모델은 데이터의 공유 보기를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p102">Within this model, there is no single source of directory data. Every individual piece of data is owned by a specific system, but no single system holds all the data. Office 365 services cooperate with Azure Active Directory to realize the data model. Azure Active Directory is the "system of truth" for shared data, which is typically small and static data used often by every service. The federated model used within Office 365 and Azure Active Directory provides the shared view of the data.</span></span>

<span data-ttu-id="cc703-p103">Office 365에서는 실제 저장소 및 Azure 클라우드 저장소를 모두 사용 합니다. exchange online (exchange online Protection 포함) 및 비즈니스용 Skype는 고객 데이터에 대 한 자체 저장소를 사용 합니다. SharePoint Online은 SQL Server 저장소 및 Azure 저장소를 모두 활용 하므로 저장소 수준에서 고객 데이터를 추가로 격리 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p103">Office 365 uses both physical storage and Azure cloud storage. Exchange Online (including Exchange Online Protection) and Skype for Business use their own storage for customer data. SharePoint Online leverages both its SQL Server storage and Azure storage, which necessitates the need for additional isolation of customer data at the storage level.</span></span>

## <a name="exchange-online"></a><span data-ttu-id="cc703-116">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cc703-116">Exchange Online</span></span>
<span data-ttu-id="cc703-p104">Exchange Online은 사서함 데이터베이스 라고 하는 ESE (Extensible Storage Engine)에서 호스팅되는 사서함 내에 고객 데이터를 저장 합니다. 여기에는 사용자 사서함, 연결 된 사서함, 공유 사서함 및 공용 폴더 사서함이 포함 됩니다. 사용자 사서함에는 대화 기록과 같은 저장 된 비즈니스용 Skype 콘텐츠가 포함 될 수도 있습니다. 사용자 사서함 콘텐츠에는 전자 메일 및 이메일 첨부 파일, 일정 및 약속 있음/없음 정보, 연락처, 작업, 메모, 그룹 및 유추 데이터가 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p104">Exchange Online stores customer data within mailboxes that are hosted within Extensible Storage Engine (ESE) databases called mailbox databases. This includes user mailboxes, linked mailboxes, shared mailboxes and public folder mailboxes. User mailboxes may also include saved Skype for Business content, such as conversation histories. User mailbox content includes emails and email attachments, calendaring and free/busy information, contacts, tasks, notes, Groups, and inference data.</span></span>

<span data-ttu-id="cc703-p105">Exchange Online 내의 각 사서함 데이터베이스에는 여러 테 넌 트의 사서함이 포함 됩니다. 모든 사서함은 테 넌 시에 포함 된 권한 코드로 보호 됩니다. 기본적으로 Exchange의 온-프레미스 배포와 마찬가지로 할당 된 사용자만 사서함에 액세스할 수 있습니다. 사서함을 보호 하는 ACL (액세스 제어 목록)에는 테 넌 트 수준에서 Azure Active Directory에 의해 인증 된 id가 포함 됩니다. 지정 된 테 넌 트에 대 한 사서함은 해당 테 넌 트의 사용자만 포함 하는 테 넌 트의 인증 공급자에 대해 인증 된 id로 제한 됩니다. tenanta에서 명시적으로 승인한 경우가 아니면 tenanta의 사용자가 tenanta에 속한 콘텐츠를 가져올 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p105">Each mailbox database within Exchange Online contains mailboxes from multiple tenants. All mailboxes are secured by authorization code, including within a tenancy. As with an on-premises deployment of Exchange, by default only the assigned user has access to a mailbox. The access control list (ACL) that secures a mailbox contains an identity that is authenticated by Azure Active Directory at the tenant level. The mailboxes for a given tenant are limited to identities authenticated against that tenant's authentication provider, which include only users from that tenant. Content belonging to TenantA cannot in any way be obtained by users in TenantB, unless explicitly approved by TenantA.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="cc703-127">비즈니스용 Skype</span><span class="sxs-lookup"><span data-stu-id="cc703-127">Skype for Business</span></span>
<span data-ttu-id="cc703-128">비즈니스용 Skype는 다음과 같은 다양 한 위치에 데이터를 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-128">Skype for Business stores data in a variety of places:</span></span>
- <span data-ttu-id="cc703-p106">연결 끝점, 테 넌 트 id, 다이얼 플랜, 로밍 설정, 현재 상태, 연락처 목록 등을 포함 하는 사용자 및 계정 정보는 비즈니스용 skype Active Directory 서버 및 다양 한 비즈니스용 skype 데이터베이스에 저장 됩니다. 서버. 연락처 목록은 사용자가 두 제품을 사용할 수 있거나 사용자가 없는 경우 비즈니스용 Skype 서버를 사용 하도록 설정 된 경우 사용자의 Exchange Online 사서함에 저장 됩니다. 비즈니스용 Skype 데이터베이스 서버는 테 넌 트 별로 분할 되지 않지만 다중 테 넌 시 데이터 격리는 RBAC를 통해 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p106">User and account information, which includes connection endpoints, tenant IDs, dial plans, roaming settings, presence state, contact lists, etc., is stored in the Skype for Business Active Directory servers, as well as in various Skype for Business database servers. Contact lists are stored in the user's Exchange Online mailbox if the user is enabled for both products, or on Skype for Business servers if the user is not. Skype for Business database servers are not partitioned per-tenant, but multi-tenancy isolation of data is enforced through RBAC.</span></span>
- <span data-ttu-id="cc703-p107">비즈니스용 Skype 모임 중에 업로드 되는 콘텐츠 사용자와 같은 모임 콘텐츠는 분산 파일 시스템 공유에 저장 됩니다. 이 콘텐츠는 보관을 사용 하도록 설정 된 Exchange Online 에서도 보관 될 수 있습니다. DFS 공유는 테 넌 트 당 분할 되지 않지만 콘텐츠는 acl을 통해 보호 되며 다중 테 넌 시는 RBAC를 통해 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p107">Meeting content, such as content users upload during Skype for Business meetings, is stored on Distributed File System shares. This content can also be archived in Exchange Online provided archiving is enabled. The DFS shares are not partitioned per-tenant but the content is secured with ACLs and multi-tenancy is enforced through RBAC.</span></span>
- <span data-ttu-id="cc703-p108">통화 기록, im 세션, 응용 프로그램 공유, IM 기록 등의 활동 기록은 Exchange Online에도 저장할 수 있지만, 대부분의 통화 정보 레코드는 CDR (통화 정보 기록) 서버에 일시적으로 저장 됩니다. 콘텐츠는 테 넌 트 별로 분할 되지 않지만 다중 테 넌 시는 RBAC를 통해 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p108">Call detail records, which is the activity history, such as call history, IM sessions, application sharing, IM history, etc., can also be stored in Exchange Online, but most call detail records are temporarily stored on call detail record (CDR) servers. Content is not partitioned per tenant, but multi-tenancy is enforced through RBAC.</span></span>

## <a name="sharepoint-online"></a><span data-ttu-id="cc703-137">SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="cc703-137">SharePoint Online</span></span>
<span data-ttu-id="cc703-p109">데이터 격리를 제공 하는 SharePoint Online에 고유한 몇 가지 독립적인 메커니즘이 있습니다. SharePoint Online은 개체를 응용 프로그램 데이터베이스 내에서 추상화 된 코드로 저장 합니다. 예를 들어 사용자가 SharePoint Online에 파일을 업로드 하면 해당 파일이 분해 되어 응용 프로그램 코드로 변환 되어 여러 데이터베이스에 걸쳐 여러 테이블에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p109">There are several independent mechanisms unique to SharePoint Online that provide data isolation. SharePoint Online stores objects as abstracted code within application databases. For example, when a user uploads a file to SharePoint Online, that file is disassembled and translated into application code and stored in multiple tables across multiple databases.</span></span>

<span data-ttu-id="cc703-p110">사용자가 데이터를 포함 하는 저장소에 직접 액세스 하는 경우에는 콘텐츠를 SharePoint Online이 아닌 사람이 나 다른 시스템으로 해석할 수 없습니다. 이러한 메커니즘에는 보안 액세스 제어 및 속성이 포함 됩니다. 위에서 설명한 것 처럼 모든 SharePoint Online 리소스는 테 넌 시를 비롯 한 승인 코드 및 RBAC 정책에 의해 보호 됩니다. 리소스를 보안 하는 ACL (액세스 제어 목록)에는 테 넌 트 수준에서 인증 된 id가 포함 됩니다. Exchange online에서와 마찬가지로 SharePoint online의 경우에는 해당 테 넌 트의 사용자만 포함 하는 테 넌 트의 인증 공급자에 대 한 데이터가 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p110">If a user could gain direct access to the storage containing the data, the content would not be interpretable to a human or any system other than SharePoint Online. These mechanisms include security access control and properties. As described above, all SharePoint Online resources are secured by the authorization code and RBAC policy, including within a tenancy. The access control list (ACL) that secures a resource contains an identity that is authenticated at the tenant level. As with Exchange Online, in SharePoint Online, data for a given tenant are limited to identities authenticated against that tenant's authentication provider, which include only users from that tenant.</span></span>

<span data-ttu-id="cc703-p111">acl 외에도 인증 공급자 (테 넌 트 별 Azure Active Directory)를 지정 하는 테 넌 트 수준 속성은 한 번 작성 되며 일단 설정 된 후에는 변경할 수 없습니다. 테 넌 트에 대해 authentication provider 테 넌 트 속성을 설정한 후에는 테 넌 트에 제공 된 api를 사용 하 여 변경할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p111">In addition to the ACLs, a tenant level property that specifies the authentication provider (which is the tenant-specific Azure Active Directory), is written once and cannot be changed once set. Once the authentication provider tenant property has been set for a tenant, it cannot be changed using any APIs exposed to a tenant.</span></span>

<span data-ttu-id="cc703-p112">각 테 넌 트에 대해서도 고유한 *SubscriptionId* 가 사용 됩니다. 모든 고객 사이트는 테 넌 트에서 소유 하며 테 넌 트에 고유한 *SubscriptionId* 를 할당 합니다. 사이트의 *SubscriptionId* 속성은 한 번 작성 되며 변경할 수 없습니다. 사이트가 테 넌 트에 할당 되 면 나중에 content store API를 사용 하 여 다른 테 넌 트로 이동할 수 없습니다. 또한 *SubscriptionId* 는 인증 공급자에 대 한 보안 범위를 만드는 데 사용 되는 키 이기도 하며 테 넌 트에 연결 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p112">A unique *SubscriptionId* is also used for each tenant. All customer sites are owned by a tenant and are assigned a *SubscriptionId* unique to the tenant. The *SubscriptionId* property on a site is written once and cannot be changed. Once a site is assigned to a tenant, it cannot be moved to a different tenant later using the content store API. The *SubscriptionId* is also the key that is used to create the security scope for the authentication provider and is tied to the tenant.</span></span>

<span data-ttu-id="cc703-p113">SharePoint Online에서는 콘텐츠를 저장 하기 위해 SQL Server 및 Azure 저장소를 사용 합니다. SQL 수준에서 콘텐츠 저장소에 대 한 파티션 키는 *SiteId*입니다. SQL 쿼리를 실행 하는 경우 SharePoint Online은 테 넌 트 수준 *SubscriptionId* 확인의 일부로 확인 된 *SiteId* 를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p113">SharePoint Online uses SQL Server and Azure storage for the storing of content. At the SQL level, the partition key for the content store is *SiteId*. When running a SQL query, SharePoint Online uses a *SiteId* that has been verified as part of a tenant-level *SubscriptionId* check.</span></span>

<span data-ttu-id="cc703-p114">SharePoint Online은 파일 이진 blob (예: 파일 스트림)를 Microsoft Azure에 저장 합니다. 각 SharePoint Online 팜에는 자체 Microsoft Azure 계정이 있으며 Azure에 저장 된 모든 blob는 SQL 콘텐츠 저장소에 저장 된 키를 사용 하 여 개별적으로 암호화 됩니다. 암호화 키는 최종 사용자에 게 직접 노출 되지 않으며 인증 계층을 통해 코드로 보호 됩니다. 마지막으로, SharePoint Online에는 HTTP 요청이 두 개 이상의 테 넌 트에 대 한 데이터를 읽거나 쓰는 경우를 검색 하기 위한 실시간 모니터링이 적용 됩니다. 이 작업은 액세스 하는 리소스의 *subscriptionid* 에 대해 요청 id의 *subscriptionid* 를 추적 하는 방식으로 수행 됩니다. 여러 테 넌 트의 리소스에 액세스 하는 요청은 최종 사용자가 수행 하지 않아야 합니다. 그러나 다중 테 넌 트 환경에서 서비스 요청에 대해 이러한 상황이 발생할 수 있습니다. 예를 들어 검색 크롤러는 전체 데이터베이스에 대 한 콘텐츠 변경 내용을 한 번에 가져옵니다. 이는 일반적으로 두 개 이상의 테 넌 트의 사이트를 단일 서비스 요청에 쿼리 하는 것과 관련 하 여 효율성을 이유로 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc703-p114">SharePoint Online stores file binary blobs (e.g., the file streams) in Microsoft Azure. Each SharePoint Online farm has its own Microsoft Azure account and all the blobs saved in Azure are encrypted individually using a key that is stored in the SQL content store. The encryption key is not exposed directly to the end user, and is protected in code by the authorization layer. Finally, SharePoint Online has real-time monitoring in place to detect when an HTTP request reads or writes data for more than one tenant. It does this by tracking the *SubscriptionId* of the request identity against the *SubscriptionId* of the resource being accessed. A request accessing resources of more than one tenant should never happen by end-user. It can happen for service requests in a multi-tenant environment, though. For example, the search crawler pulls content changes for an entire database all at once. This usually involves querying sites of more than one tenant in a single service request, which is done for efficiency reasons.</span></span>
