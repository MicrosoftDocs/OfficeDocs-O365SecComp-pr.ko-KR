---
title: 보안 & 준수 센터의에서 메시지 추적
ms.author: chrisda
author: chrisda
manager: serdars
ms.date: ''
ms.audience: ITPro
ms.topic: article
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 3e64f99d-ac33-4aba-91c5-9cb4ca476803
description: Admins 보안 & 준수 센터의에서 메시지 추적을 사용 하 여 메시지 셰이프시트에서 알아낼 수 있습니다.
ms.openlocfilehash: 9dfdab4adc5caba55664e93b49c8428791670ab3
ms.sourcegitcommit: 25fb33a1f8b2844fde15f6c03db2936c610824e0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/17/2019
ms.locfileid: "28685583"
---
# <a name="message-trace-in-the-security--compliance-center"></a>보안 & 준수 센터의에서 메시지 추적

Exchange Online 조직을 통해 이동 되는 보안 & 준수 센터의에서 메시지 추적 전자 메일 메시지는 다음과 같습니다. 메시지 수신, 거부, 지연, 또는 서비스에 의해 전달 되는 경우를 확인할 수 있습니다. 또한 최종 상태에 도달 하기 전에 메시지에 어떤 작업을 수행 했는지를 보여줍니다.

Exchange 관리 센터 (EAC)에서 사용할 수 있었던 메시지 추적에 따라 보안 & 준수 센터의에서 메시지 추적을 향상 시킵니다. 효율적으로 해당 메시지에 셰이프시트에서 변경 하는 방법에 대 한 사용자 질문에 대답, 메일 흐름 문제를 해결 하 고 정책 변경의 유효성을 검사 하는 메시지 추적 정보를 사용할 수 있습니다.

## <a name="open-message-trace"></a>열린 메시지 추적

1. 회사 또는 학교 계정로 [Office 365에 로그인](https://support.office.com/article/e9eb7d51-5430-4929-91ab-6157c5a050b4)합니다.

2. 왼쪽 위에서 앱 시작 관리자 아이콘 ![Office 365 앱 시작 관리자 아이콘](media/0aaa6945-f9a4-4b13-bf5f-d5c5dbe978fb.png)을 선택하고 **관리자**를 선택합니다.

3. 왼쪽 탐색 영역에서 **관리 센터** 를 확장 하 고 **보안 & 규정 준수를**선택 합니다.

4. 표시 되는 **보안 & 준수** 페이지에서 **메일 흐름**확장 하 고 **메시지 추적**을 선택 합니다.

## <a name="message-trace-page"></a>메시지 추적 페이지

여기에서 **추적을 시작** 단추를 클릭 하 여 새 기본 추적을 시작할 수 있습니다. 이 검색할 모든 메시지에 대 한 모든 보낸사람 및 받는 사람에 대 한 마지막 2 일. 사용 가능한 쿼리 범주에서 저장 된 쿼리 중 하나를 사용 하 고으로 실행 하거나 또는-시작 쿼리를 직접 지점으로이 사용 합니다.

- **기본 쿼리**: Office 365에서 제공 하는 기본 제공 쿼리 합니다.

- **사용자 정의 쿼리**: 쿼리 나중에 사용 하면 조직에서 관리자가 저장 됩니다.

- **자동 저장 된 쿼리**: 마지막 10은 가장 최근에 쿼리를 실행 합니다. 이 목록을 사용 하면 간단 하 게 중지 했던 듭니다.

또한이 페이지에는 **Downloadable 보고서** 섹션 보고서 자체는 물론 사용자가 제출한 요청에 대 한 다운로드 하기 위해 사용할 수 없을 때.

## <a name="options-for-a-new-message-trace"></a>새 메시지 추적에 대 한 옵션

### <a name="filter-by-senders-and-recipients"></a>보낸사람 및 받는 사람으로 필터링

기본 값은 **모든 보낸사람** 및 **받는 사람을 모두**하지만 다음 필드를 사용 하 여 결과 필터링 합니다.

- **이러한 사용자가**: 조직에서 하나 이상의 보낸사람을 선택 하려면이 필드에서를 클릭 합니다. 이름을 입력을 시작할 수 있습니다 하 고 목록에서 항목 입력 한 내용을, 훨씬 검색 페이지를 작동 하는 방식을 같은 의해 필터링 될 합니다.

- **이러한 사람에 게**: 하나 이상의 받는 사람을 선택 하면 조직에서이 필드에서를 클릭 합니다.

또한 외부 보낸사람 및 받는 사람에 게 전자 메일 주소를 입력할 수 있습니다. 와일드 카드는 지원 (`*@contoso.com` 또는 `scot?@contoso.com`), 있지만 동시에 같은 필드에 여러 와일드 카드 항목을 사용할 수 없습니다.

### <a name="time-range"></a>시간 범위

기본값은 **일**, 하지만 최대 90 일의 날짜/시간 범위를 지정할 수 있습니다. 날짜/시간 범위를 사용 하면 이러한 문제를 고려해 야 합니다.

- 기본적으로 시간 표시 막대를 사용 하 여 **슬라이더** 보기에서 시간 범위를 선택 합니다. 만 일을 선택 하거나 시간 표시 되는 설정을 수 있습니다. 시작/종료 거품에 맞춰집니다 중간 값을 선택 하는 동안 가장 가까운 설정을 표시 합니다.

   ![보안 & 준수 센터에서에서 새 메시지 추적에 슬라이더 시간 범위](media/55a9e9c1-f7d5-4047-b217-824e8b976bcb.png)

   하지만 여기서 (시간 포함), **시작 날짜와** **종료 날짜** 값을 지정할 수 및 날짜/시간 범위에 대 한 **표준 시간대** 를 선택할 수도 있습니다 **사용자 정의** 보기를 전환할 수 있습니다. 쿼리 입력 및 쿼리 결과 모두 적용 하는 **표준 시간대** 설정 하는 내용의 정보가 있습니다.

   ![보안 & 준수 센터에서에서 새 메시지 추적에는 사용자 정의 시간 범위](media/ed4c8d50-9ea5-4694-93f9-ee3ab6660b4f.png)

   10 일 이하인, 결과 **요약** 보고서로 즉시 사용할 수 있습니다. 10 일 보다 약간 더 큰 시간 범위를 지정 하는 경우에 다운로드 가능한 CSV 파일 ( **향상 된 요약** 또는 **확장 된** 보고서)으로 사용할 수 있는 결과 지연 됩니다.

   다른 보고서 유형에 대 한 자세한 내용은이 항목의 [보고서 형식 선택](#choose-report-type) 섹션을 참조 하십시오.

   **참고**: 향상 된 요약 및 확장 된 보고서는 보관 된 메시지 추적 데이터를 사용 하 여 사용 되 고 보고서를 다운로드할 수 있는 하기 전에 몇 시간까지 걸릴 수 있으므로 합니다. 다른 얼마나 많은 관리자가 같은 시간 주위 보고서 요청 제출도 따라 큐에 대기 중인된 요청에 대 한 처리를 시작 하기 전에 지연을 또한 알 수 있습니다.

- 상대 시간 범위 (예: 오늘부터 3 일)을 저장 **슬라이더** 보기에서 쿼리를 저장 합니다. 쿼리를 **사용자 지정** 보기에 저장 하면 절대 날짜/시간 범위 (예: 2018-05-06 13 시 2018-05-08-18시).

### <a name="more-search-options"></a>더 많은 검색 옵션

#### <a name="delivery-status"></a>배달 상태

**모든** 옵션을 선택 기본값 두거나 결과 필터링 하는 다음 값 중 하나를 선택할 수 있습니다.

- **배달 된**: 메시지가 의도 한 대상에 배달 되었습니다.

- **보류 중인**: 되 고 해당 메시지의 배달이 시도 중이거나 다시 시도 합니다.

- **전체 확장**: 메일 그룹 받는 사람 그룹의 개별 구성원에 게 배달 전에 확장 되었습니다.

- **실패**: 메시지가 배달 되지 않았습니다.

- **격리 된**: (스팸, 대량 메일 또는 피싱)로 격리 된 메시지입니다. 자세한 내용은 [Office 365에서 전자 메일 메시지를 격리를](https://support.office.com/article/4c234874-015e-4768-8495-98fcccfc639b.aspx)참조 하십시오.

- **스팸 필터링 됨**: 메시지가 스팸을 식별 하 고 거부 되었거나 (하지 격리 된)를 차단 합니다.

- **상태:** Office 365에서 메시지를 받은 최근에 하지만 다른 상태 데이터가 없는 아직 사용할 수 있습니다. 잠시 후에 다시 확인 합니다.

**참고**: **보류 중인,** **격리 된**및 **스팸이 필터** 값만 사용할 수 검색에 대 한 일 보다 작은 합니다. 또한 있을 수 있습니다 5 ~ 10 분 지연 실제 및 보고 된 배달 상태 사이입니다.

#### <a name="message-id"></a>메시지 ID

이것은에서 발견 되는 인터넷 메시지 ID (클라이언트 ID 라고도 함)는 **메시지 ID:** 메시지 헤더의 헤더 필드입니다. 사용자가 특정 메시지를 조사 하이 값을 지정할 수 있습니다.

이 값은 메시지의 수명 동안 상수입니다. Office 365 또는 Exchange에서 만든 메시지,이 속성 값은 형식에서 `<GUID@ServerFQDN>`, 꺾쇠 괄호를 포함 하 여 (\< \>). 예, `<d9683b4c-127b-413a-ae2e-fa7dfb32c69d@DM3NAM06BG401.Eop-nam06.prod.protection.outlook.com>`합니다. 다른 메시징 시스템 다른 구문 또는 값을 사용할 수 있습니다. 이 값은 고유 하지만 일부 전자 메일 시스템은 엄격 하 게이 요구 사항을 준수. 하는 경우는 **메시지 ID:** 헤더 필드 내 존재 하지 않거나 외부 원본에서 들어오는 메시지에 대 한 비어는 임의의 값이 할당 됩니다.

**메시지 ID** 를 사용 하 여 결과 필터링 하는 꺾쇠 괄호를 포함 하 여 전체 문자열을 포함 해야 합니다.

#### <a name="direction"></a>Direction

**모두** 선택 하 고, 기본값을 남길 수 또는 (조직의 받는 사람에에서 게 보내는 메시지) **인바운드** 또는 **아웃 바운드** (조직의 사용자가 보낸 메시지가)을 선택할 수 있습니다는 결과를 필터링 합니다.

#### <a name="original-client-ip-address"></a>원래 클라이언트 IP 주소

하 여 필터 결과 클라이언트 IP 주소를 전송 하는 많은 양의 스팸 또는 맬웨어로 해킹된 컴퓨터를 조사 합니다. 여러 사람이 보낸에서 수신 메시지가 나타날 수 있습니다, 하지만 같은 컴퓨터의 모든 메시지를 생성은 가능성이 높습니다.

**참고**: 클라이언트 IP 주소 정보만 사용할 수 있는 10 일 이며만 **향상 된 요약** 또는 **확장 된** 보고서 (다운로드 가능한 CSV 파일)에서 사용할 수 있습니다.

### <a name="choose-report-type"></a>보고서 유형 선택

사용 가능한 보고서 유형은 다음과 같습니다.

- **요약**: 시간 범위 10 일 보다 작은 요소 이며 추가 필터링 옵션이 없습니다 필요 하는 경우에 사용할 수 있습니다. **검색**을 클릭 한 후에 곧바로 결과 사용할 수 있습니다.

- **향상 된 요약** 이나 **Extended**: 이러한 보고서는 다운로드 가능한 CSV 파일로 사용할 수만 하 고 시간 범위에 관계 없이 필터링 다음 옵션 중 하나 이상이 필요: **이러한 사용자가**, **이러한 사람에 게**사람 또는 ** 메시지 ID**합니다. 보낸사람 또는 받는 사람에 대 한 와일드 카드를 사용할 수 있습니다 (예를들어, \*@contoso.com).

**참고:**

- 향상 된 요약 및 확장 된 보고서는 보관 된 메시지 추적 데이터를 사용 하 여 사용 되 고 보고서가 다운로드를 사용할 수 있는 전에 몇 시간까지 걸릴 수 있으므로 합니다. 다른 얼마나 많은 관리자가 같은 시간 주위 보고서 요청 제출도 따라 처리 큐에 대기 중인된 요청을 시작 하기 전에 지연을 또한 알 수 있습니다.

- 선택할 수 있습니다. 하는 동안 같은 향상 된 요약 또는 확장 된 보고서를 날짜/시간 범위, 일반적으로 보관 된 데이터의 마지막 4 시간 되지 않습니다 아직 이러한 두 종류의 보고서에 대해 사용할 수 있습니다.

요약 페이지를 선택한 필터링 옵션을 나열 하는 보고서 및 메시지 추적 (도 편집, 완료 될 때 알림을 수신 하는 전자 메일 주소에 대 한 고유 (편집) 제목 발표자는 **다음**을 클릭 하는 경우 및 조직의 허용된 도메인 중 하나 여야 합니다). 메시지 추적을 전송 하도록 **준비 보고서** 클릭 합니다. 주에서 **메시지 추적** 페이지 **Downloadable 보고** 섹션에서 보고서의 상태를 볼 수 있습니다.

다른 보고서 종류에서 반환 되는 정보에 대 한 자세한 내용은 다음 섹션을 참조 하십시오.

## <a name="message-trace-results"></a>메시지 추적 결과

다른 보고서 형식은 다양 한 수준의 정보를 반환합니다. 다양 한 보고서에서 사용할 수 있는 정보는 다음 섹션에 설명 되어있습니다.

### <a name="summary-report-output"></a>요약 보고서 출력

메시지 추적을 실행 한 후 결과 나열, 날짜/시간 (가장 최근의 것부터)를 내림차순으로 정렬 합니다.

![보안 & 준수 센터의에서 메시지 추적에 대 한 요약 보고서 결과](media/0664bafe-0b03-477b-b571-0b046ac8c977.png)

요약 보고서는 다음과 같은 정보가 표시 됩니다.

- **날짜**: 구성 된 UTC 표준 시간대를 사용 하 여 서비스에서 메시지를 받은 시간과 날짜입니다.

- **보낸사람**: 보낸 사람의 전자 메일 주소 (*별칭*@*도메인*).

- **받는 사람**: 전자 메일 주소를 받는 사람이 나 받는 사람입니다. 여러 받는 사람에 게 보낸 메시지를 받는 사람 당한 줄이 있습니다. 받는 사람이 메일 그룹, 동적 메일 그룹 또는 메일 사용이 가능한 보안 그룹 경우 그룹 첫번째 받는 사람 수와 별도 줄에는 그룹의 각 구성원은 다음 합니다.

- **제목**: 메시지의 처음 256 자 **제목:** 필드입니다.

- **상태**:이 값은 [배달 상태](#delivery-status) 섹션에서 설명 합니다.

기본적으로 처음 250 결과 로드 하 고 쉽게 사용할 수 있습니다. 아래로 스크롤할 때 약간의 일시 중지에는 결과의 다음 일괄 처리 로드 됩니다. 스크롤을 하는 대신 10, 000 개 있는 최대 결과의 모든 부하를 **모두 로드** 를 클릭할 수 있습니다.

오름차순 또는 내림차순으로 정렬 해당 열의 값을 기준으로 결과 정렬 하려면 열 머리글을 클릭할 수 있습니다.

하나 이상의 열을 기준으로 결과 필터링 하려면 **필터 결과** 클릭할 수 있습니다.

**결과 내보내기** 를 클릭 한 다음 **모든 결과 내보낼**, **내보내기 결과 로드**또는 **선택한 내보내기**을 선택 하 여 하나 이상의 행을 선택한 후 결과 내보낼 수 있습니다.

#### <a name="find-related-records-for-this-message"></a>이 메시지에 대 한 관련된 레코드 찾기

관련된 메시지 레코드는 동일한 메시지 ID를 공유 하는 레코드 기억 두 사용자 간에 보낸 단일 메시지 여러 레코드를 생성할 수 있습니다. 레코드 수가 메시지는 메일 그룹 확장, 전달, 메일 흐름 규칙 (전송 규칙이 라고도 함)에 의해 영향을 받을 때 증가 합니다.

나타나는 **찾기 관련** 단추를 클릭 하 여 또는 **기타 옵션** 을 선택 하 여 메시지에 대 한 관련된 레코드를 찾을 수 있는 행의 확인란을 선택한 후 ![더 많은](media/1ea52bbf-9d00-48ce-9362-307f7f6fb7fe.png) \> **이 메시지에 대 한 관련된 레코드 찾기**).

메시지 ID에 대 한 자세한 내용은이 항목의 앞부분에서 메시지 ID 섹션을 참조 하십시오.

#### <a name="message-trace-details"></a>메시지 추적 세부 정보

요약 보고서 출력에는 다음 방법 중 하나를 사용 하 여 메시지에 대 한 세부 정보를 볼 수 있습니다.

- (확인란을 제외한 행의 아무곳 이나 클릭) 하는 행을 선택 합니다.

- 행의 확인란을 선택 하 고 **기타 옵션** 을 클릭 ![더 많은](media/1ea52bbf-9d00-48ce-9362-307f7f6fb7fe.png) \> **메시지 세부 정보 보기**입니다.

   ![보안 & 준수 센터의에서 요약 보고서 메시지 추적 결과에 행을 두번클릭 한 후 세부 정보](media/e50ee7cd-810a-4c06-8b58-e56ffd7028d1.png)

요약 보고서에 존재 하지 않는 다음과 같은 추가 정보를 포함 하는 메시지 추적 세부 정보:

- **이벤트 메시지**:이 섹션에서는 메시지에는 서비스에서 수행 되는 작업을 분류 하는 데 도움이 되는 분류 합니다. 발생할 수 있는 유용한 이벤트는 다음과 같습니다.

   - **수신**: 서비스에서 메시지를 받았습니다.

   - **보내기**: 서비스에서 메시지를 보냈습니다.

   - **실패**: 메시지 배달 하지 못했습니다.

   - **제공**: 메시지를 사서함으로 배달 했습니다.

   - **확장**: 확장 된 메일 그룹에 메시지를 보냈습니다.

   - **전송**: 콘텐츠 변환, 메시지 받는 사람 수 제한 또는 에이전트로 인해 받는 사람이 분기 된 메시지로 이동 되었습니다.

   - **지연**: 메시지 배달이 연기 하 고 나중에 다시 시도 될 수 있습니다.

   - **해결 됨**: 메시지는 Active Directory 조회에 따라 새 받는 사람 주소로 리디렉션 되었습니다. 이 경우 원래 받는 사람 주소는 메시지에 대 한 마지막 배달 상태 메시지 추적에 별도 행에 표시 됩니다.

   참고를 성공적으로 배달 되는 일반적인 메시지에도 메시지 추적에 여러 **이벤트** 항목을 생성 됩니다.

- **자세한 내용**은:이 섹션에서는 다음과 같은 세부 정보:

   - **메시지 ID**:이 값이이 항목의 앞부분에서 [메시지 ID](#message-id) 섹션에서 설명 합니다. 예, `<d9683b4c-127b-413a-ae2e-fa7dfb32c69d@DM3NAM06BG401.Eop-nam06.prod.protection.outlook.com>`합니다.

   - **메시지 크기**

   - **IP**: 메시지를 전송 하는 컴퓨터의 IP 주소입니다. Exchange Online에서 보낸 아웃 바운드 메시지에 대 한이 값은 비어 있습니다.

   - **IP**: IP 주소를 하나 이상 서비스 있는 메시지를 배달 하려고 합니다. 메시지에 여러 받는 사람, 이러한 표시 됩니다. Exchange Online으로 보내는 인바운드 메시지에 대 한이 값은 비어 있습니다.

### <a name="enhanced-summary-reports"></a>향상 된 요약 보고서

사용 가능한 (완료) 향상 된 요약 보고서는 시작 메시지 추적에 **Downloadable 보고** 섹션에서 사용할 수 있습니다. 다음 정보는 보고서에서 제공 됩니다.

- **origin_timestamp**<sup>*</sup>: 날짜 및 시간 메시지에 처음으로 구성 된 UTC 표준 시간대를 사용 하 여 서비스를 받았습니다.

- **sender_address 사람의**: 보낸 사람의 전자 메일 주소 (*별칭*@*도메인*).

- **Recipient_status**: 받는 사람에 게 메시지의 배달 상태입니다. 모든 받는 사람 및 해당 상태 각 형식에서에 대 한 표시 됩니다 여러 받는 사람에 게 메시지를 보냈습니다, 하는 경우: \< *전자 메일 주소*\>##\<*상태*\>합니다. 예를 들어:

   - **##Receive, 보내기** 메시지가 서비스에 의해 받았으며 의도 한 대상으로 전송 된 의미 합니다.

   - **##Receive, 실패** 서비스 하지만 실패 의도 한 대상에 배달 된 메시지를 수신한 하는 것을 의미 합니다.

   - 메시지 서비스에 의해 받았으며 받는 사람의 사서함으로 배달 했습니다 의미 **##Receive를 제공** 합니다.

- **message_subject**: 메시지의 **제목** 필드의 처음 256 자입니다.

- **total_bytes**: 첨부 파일을 포함 하 여 바이트에서 메시지의 크기입니다.

- **message_id**:이 값이이 항목의 앞부분에서 [메시지 ID](#message-id) 섹션에서 설명 합니다. 예, `<d9683b4c-127b-413a-ae2e-fa7dfb32c69d@DM3NAM06BG401.Eop-nam06.prod.protection.outlook.com>`합니다.

- **network_message_id**: 분기 또는 메일 그룹 확장으로 인해 만들 수 있는 메시지의 모든 복사본에서 유지 하는 고유한 메시지 ID 값입니다. 예제 값은 `1341ac7b13fb42ab4d4408cf7f55890f`합니다.

- **original_client_ip**: 보낸 사람의 클라이언트의 IP 주소입니다.

- **directionality**: 여부는 메시지에 전송 된 인바운드 (1) 조직 또는 여부 아웃 바운드 (2)에서 보낸 조직을 나타냅니다.

- **connector_id**: 원본 또는 대상 커넥터의 이름입니다. Exchange Online에서 커넥터에 대 한 자세한 내용은 [Office 365의 커넥터를 사용 하 여 구성을 메일 흐름](https://docs.microsoft.com/Exchange/mail-flow-best-practices/use-connectors-to-configure-mail-flow/use-connectors-to-configure-mail-flow)을 참조 하십시오.

- **delivery_priority**<sup>*</sup>: **높음**, **낮음**또는 **보통** 우선순위는 메시지를 보냈습니다 여부입니다.

<sup>*</sup>이 속성은 향상 된 요약 보고서에서 사용할 수만 있습니다.

### <a name="extended-reports"></a>확장 된 보고서

사용 가능한 (완료) Extended 보고서는 메시지 추적의 시작 부분에 **Downloadable 보고** 섹션에서 사용할 수 있습니다. 향상 된 요약 보고서에서 정보를 모두 거의 모든 (제외 하 고 **origin_timestamp** 및 **delivery_priority**)는 확장 된 보고서에서 제공 됩니다. 다음과 같은 추가 정보는 에서만 확장 된 보고서를 사용할 수 있습니다:

- **client_ip**: 전자 메일 서버 또는 메시지를 전송 하는 메시징 클라이언트의 IP 주소입니다.

- **client_hostname**: 호스트 이름 또는 전자 메일 서버 또는 메시지를 전송 하는 메시징 클라이언트의 FQDN입니다.

- **server_ip**: 원본 또는 대상 서버의 IP 주소입니다.

- **server_hostname**: 호스트 이름 또는 대상 서버의 FQDN입니다.

- **source_context**: **원본** 필드와 관련 된 추가 정보입니다. 예를 들어:

   - `Protocol Filter Agent`

   - `3489061114359050000`

- **원본**: 이벤트를 담당 하는 Exchange Online 구성 요소입니다. 예를 들어:

   - `AGENT`

   - `MAILBOXRULE`

   - `SMTP`

- **event_id**: 이러한 값에 해당 하는 **메시지 이벤트** [이 메시지에 대 한 관련된 레코드 찾기](#find-related-records-for-this-message) 섹션에 설명 합니다.

- **internal_message_id**: 현재 메시지를 처리 하는 Exchange Online 서버에서 할당 하는 메시지 식별자입니다.

- **recipient_address**: 메시지의 받는 사람 전자 메일 주소입니다. 여러 전자 메일 주소는 세미콜론 (;)으로 구분 됩니다.

- **recipient_count**: 메시지의 받는 사람에 게의 총 수입니다.

- **related_recipient_address**:와 함께 사용 `EXPAND`, `REDIRECT`, 및 `RESOLVE` 다른 받는 사람을 표시 하는 이벤트 전자 메일 메시지와 연결 된 주소입니다.

- **참고**:이 필드는 특정 유형의 이벤트에 대 한 추가 정보를 포함 합니다. 예를 들어:

   - **DSN**:이 이벤트 된 이후 DSN가 생성 하는 경우의 연결 된 배달 상태 알림 (로 알려져 DSN, 배달 못함 보고서, NDR, 또는 튀어오르 메시지) **message_id** 값을 사용 하는 보고서 링크를 포함 합니다. DSN 메시지 인 경우이 필드는 DSN에 대해 생성 된 원본 메시지의 **message_id** 값을 포함 합니다.

   - **확장**: 관련된 메시지의 **related_recipient_address** 값을 포함 합니다.

   - **수신**: 메시지 (예: 받은 편지함 규칙) 다른 프로세스에서 생성 하는 경우 관련된 메시지의 **message_id** 값이 포함 될 수 있습니다.

   - **보내기**: 모든 DSN 메시지의 **internal_message_id** 값을 포함 합니다.

   - **전송**: (등 하 여 콘텐츠 변환, 메시지 받는 사람 수 제한 또는 에이전트) 분기 된 되는 메시지의 **internal_message_id** 값이 포함 됩니다.

   - **MAILBOXRULE**: 아웃 바운드 메시지를 생성 하는 받은 편지함 규칙을 발생 시킨 인바운드 메시지의 **internal_message_id** 값을 포함 합니다.

   다른 유형의 이벤트에 대해이 필드는 일반적으로 비어 있습니다.

- **return_path**: 메시지를 보낸 **MAIL FROM** 명령에 의해 지정 된 반송 전자 메일 주소입니다. 으로 표시 되는 null 보낸사람 주소 값을 가질 수 있습니다이 필드가 비어 하지 않지만 `<>`합니다.

- **message_info**: 메시지에 대 한 추가 정보입니다. 예를 들어:

   - 메시지 시작 날짜-시간에 대 한 utc `DELIVER` 및 `SEND` 이벤트입니다. 시작 날짜 및 시간에는 메시지, Exchange Online 조직을 먼저 입력할 때 시간입니다. 문화권이 날짜 및 시간 형식에서 표시 되는 UTC 날짜 및 시간: `yyyy-mm-ddThh:mm:ss.fffZ`, 여기서 `yyyy` = 년, `mm` = 월, `dd` = 일, `T` 시간 구성 요소의 시작 부분을 나타냅니다 `hh` = 시간, `mm` (분)을 = `ss` = 둘째, `fff` 두번째, 소수로 = 및 `Z` 의미 `Zulu`, UTC를 표시 하는 다른 방법은 합니다.

   - 인증 오류가 발생 했습니다. 값을 볼 수 등 `11a` 및 인증 오류가 발생 했을 때 사용 된 인증 유형입니다.

- **tenant_id**: Exchange Online 조직을 나타내는 GUID 값 (예 `39238e87-b5ab-4ef6-a559-af54c6b07b42`).

- **original_server_ip**: 원본 서버의 IP 주소입니다.

- **custom_data**: 특정 이벤트 종류에 관련 된 데이터를 포함 합니다. 자세한 내용은 다음 섹션을 참조 하십시오.

#### <a name="customdata-values"></a>custom_data 값

에 대 한 **custom_data** 필드는 `AGENTINFO` 이벤트 로그 메시지 처리 세부 정보를 다양 한 Exchange Online 에이전트 사용 됩니다. 다음 섹션에 설명 된 흥미 에이전트의 일부입니다.

#### <a name="spam-filter-agent"></a>스팸 필터 에이전트

로 시작 하는 **custom_data** 값 `S:SFA` 스팸 필터 에이전트에서 시작 됩니다. 중요 한 세부 정보는 다음 표에에 대해 설명 합니다.

|**값**|**설명**|
|:-----|:-----|
|`SFV=NSPM`|메시지가 스팸이 아닌 것으로 표시되었으며 받는 사람에게 전송되었습니다.|
|`SFV=SPM`|메시지가 콘텐츠 필터에 의해 스팸으로 표시되었습니다.|
|`SFV=BLK`|수신 거부된 보낸 사람이 보낸 메시지이므로 필터링을 건너뛰었으며 메시지가 차단되었습니다.|
|`SFV=SKS`|메시지가 콘텐츠 필터에 의해 처리되기 전에 이미 스팸으로 표시되었습니다. 전송 규칙과 일치하여 스팸으로 자동 표시되고 모든 추가 필터링을 무시하는 메시지가 여기에 포함됩니다.|
|`SCL=<number>`|여러 SCL 값과 그 의미에 대 한 자세한 내용은 [Spam confidence levels](https://technet.microsoft.com/library/jj200686.aspx)를 참조 하십시오.|
|`PCL=<number>`|메시지의 피싱 신뢰 수준 (PCL) 값입니다. SCL와 동일한 방식으로 해석 될 수 있는 이러한 [스팸 신뢰 수준](https://technet.microsoft.com/library/jj200686.aspx)에서 설명 하는 값입니다.|
|`DI=SB`|메시지의 보낸 사람이 차단되었습니다.|
|`DI=SQ`|메시지가 격리되었습니다.|
|`DI=SD`|메시지가 삭제되었습니다.|
|`DI=SJ`|받는 사람의 정크 메일 폴더로 메시지를 보냈습니다.|
|`DI=SN`|메시지는 위험성이 높은 배달 풀을 통해 라우팅 되었습니다. 자세한 내용은 [아웃 바운드 메시지 용 위험성이 높은 배달 풀](https://technet.microsoft.com/library/jj200746.aspx)을 참조 하십시오.|
|`DI=SO`|메시지가 일반 아웃바운드 배달 풀을 통해 라우팅되었습니다.|
|' SFS = [a]|SFS = [b]'|스팸 규칙이 일치했음을 나타냅니다.|
|`IPV=CAL`|연결 필터의 IP 허용 목록에 IP 주소가 지정되어 있어 메시지가 스팸 필터를 통과하도록 허용되었습니다.|
|`H=<EHLOstring>`|연결 된 전자 메일 서버의 HELO 또는 EHLO 문자열입니다.|
|`PTR=<ReverseDNS>`|보내는 IP 주소의 PTR 레코드로, 역방향 DNS 주소라고도 합니다.|

다음과 같은 스팸 필터링 된 메시지에 대 한 예제 **custom_data** 값:

`S:SFA=SUM|SFV=SPM|IPV=CAL|SRV=BULK|SFS=470454002|SFS=349001|SCL=9|SCORE=-1|LIST=0|DI=SN|RD=ftmail.inc.com|H=ftmail.inc.com|CIP=98.129.140.74|SFP=1501|ASF=1|CTRY=US|CLTCTRY=|LANG=en|LAT=287|LAT=260|LAT=18;`

#### <a name="malware-filter-agent"></a>맬웨어 필터 에이전트

로 시작 하는 **custom_data** 값 `S:AMA` 맬웨어 필터 에이전트에서 시작 됩니다. 중요 한 세부 정보는 다음 표에에 대해 설명 합니다.

|**값**|**설명**|
|:-----|:-----|
|' AMA = SUM|v = 1|` or `AMA EV =|v = 1'|맬웨어를 포함 하는 메시지 결정 됩니다. `SUM` 맬웨어가 수 했을 때 발견 되었음을 나타냅니다 엔진의 모든 수 있습니다. `EV` 맬웨어가 특정 엔진에서 찾을 수를 나타냅니다. 맬웨어 감지 되 면는 엔진에 의해이 후속 작업을 트리거합니다.|
|`Action=r`|메시지가 대체되었습니다.|
|`Action=p`|메시지가 무시되었습니다.|
|`Action=d`|메시지가 지연되었습니다.|
|`Action=s`|메시지가 삭제되었습니다.|
|`Action=st`|메시지가 무시되었습니다.|
|`Action=sy`|메시지가 무시되었습니다.|
|`Action=ni`|메시지가 거부되었습니다.|
|`Action=ne`|메시지가 거부되었습니다.|
|`Action=b`|메시지가 차단되었습니다.|
|`Name=<malware>`|검색된 맬웨어의 이름입니다.|
|`File=<filename>`|맬웨어가 포함된 파일의 이름입니다.|

맬웨어를 포함 하는 메시지에 대 한 예제 **custom_data** 값은 다음과 같습니다.

`S:AMA=SUM|v=1|action=b|error=|atch=1;S:AMA=EV|engine=M|v=1|sig=1.155.974.0|name=DOS/Test_File|file=filename;S:AMA=EV|engine=A|v=1|sig=201707282038|name=Test_File|file=filename`

#### <a name="transport-rule-agent"></a>전송 규칙 에이전트

로 시작 하는 **custom_data** 값`S:TRA` 메일 흐름 규칙 (전송 규칙이 라고도 함)에 대 한 전송 규칙 에이전트에서 시작 됩니다. 중요 한 세부 정보는 다음 표에에 대해 설명 합니다.

|**값**|**설명**|
|:-----|:-----|
|' ETR|규칙 id가 =<guid>`|일치된 규칙 ID입니다.|
|`St=<datetime>`|날짜 및 시간 규칙 일치가 발생 했을 때 UTC입니다.|
|`Action=<ActionDefinition>`|이 작업에 적용 된입니다. 사용 가능한 작업 목록이 [메일 흐름 규칙 동작 Exchange Online](https://technet.microsoft.com/library/jj919237.aspx)을 참조 하십시오.|
|`Mode=<Mode>`|규칙의 모드입니다. 유효한 값입니다.<br/>• **적용**: 규칙에 대 한 모든 작업이 적용 됩니다. <br/>• **정책 설명이 있는 테스트:**: 모든 정책 설명 작업이 전송 되지만 다른 적용 작업은 실행 되지 않습니다. <br/>• **정책 설명이 없는 테스트**: 작업이 로그 파일에 나열 되지만 보낸사람 어떤 식으로도 알림을 받지 못합니다 및 적용 작업은 실행 되지 않습니다.|

예제 **custom_data** 하는 값을 메시지에 대 한 메일 흐름 규칙의 조건과 일치 하는 다음과 같습니다.

`S:TRA=ETR|ruleId=19a25eb2-3e43-4896-ad9e-47b6c359779d|st=7/17/2017 12:31:25 AM|action=ApplyHtmlDisclaimer|sev=1|mode=Enforce`
